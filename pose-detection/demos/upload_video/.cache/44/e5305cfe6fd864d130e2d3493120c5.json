{"id":"node_modules/@tensorflow-models/pose-detection/shared/calculators/remove_detection_letterbox.js","dependencies":[{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/calculators/remove_detection_letterbox.js.map","includedInParent":true,"mtime":1701727604748},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/package.json","includedInParent":true,"mtime":1705185626996},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/.babelrc","includedInParent":true,"mtime":1701727604305}],"generated":{"js":"\"use strict\";\n/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeDetectionLetterbox = void 0;\n/**\n * Adjusts detection locations on the letterboxed image to the corresponding\n * locations on the same image with the letterbox removed (the input image to\n * the graph before image transformation).\n *\n * @param detections A list of detection boxes on an letterboxed image.\n * @param letterboxPadding A `padding` object representing the letterbox padding\n *     from the 4 sides: left, top, right, bottom, of the letterboxed image,\n *     normalized by the letterboxed image dimensions.\n * @returns detections: A list of detection boxes representing detections with\n *     their locations adjusted to the letterbox-removed (non-padded) image.\n */\n// ref:\n// https://github.com/google/mediapipe/blob/master/mediapipe/calculators/util/detection_letterbox_removal_calculator.cc\nfunction removeDetectionLetterbox(detections, letterboxPadding) {\n    if (detections === void 0) { detections = []; }\n    var left = letterboxPadding.left;\n    var top = letterboxPadding.top;\n    var leftAndRight = letterboxPadding.left + letterboxPadding.right;\n    var topAndBottom = letterboxPadding.top + letterboxPadding.bottom;\n    for (var i = 0; i < detections.length; i++) {\n        var detection = detections[i];\n        var relativeBoundingBox = detection.locationData.relativeBoundingBox;\n        var xMin = (relativeBoundingBox.xMin - left) / (1 - leftAndRight);\n        var yMin = (relativeBoundingBox.yMin - top) / (1 - topAndBottom);\n        var width = relativeBoundingBox.width / (1 - leftAndRight);\n        var height = relativeBoundingBox.height / (1 - topAndBottom);\n        relativeBoundingBox.xMin = xMin;\n        relativeBoundingBox.yMin = yMin;\n        relativeBoundingBox.width = width;\n        relativeBoundingBox.height = height;\n        relativeBoundingBox.xMax = xMin + width;\n        relativeBoundingBox.yMax = yMin + height;\n        var relativeKeypoints = detection.locationData.relativeKeypoints;\n        if (relativeKeypoints) {\n            relativeKeypoints.forEach(function (keypoint) {\n                var newX = (keypoint.x - left) / (1 - leftAndRight);\n                var newY = (keypoint.y - top) / (1 - topAndBottom);\n                keypoint.x = newX;\n                keypoint.y = newY;\n            });\n        }\n    }\n    return detections;\n}\nexports.removeDetectionLetterbox = removeDetectionLetterbox;\n"},"sourceMaps":{"js":{"version":3,"file":"remove_detection_letterbox.js","sourceRoot":"","sources":["../../../src/shared/calculators/remove_detection_letterbox.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;GAeG;;;AAKH;;;;;;;;;;;GAWG;AACH,OAAO;AACP,uHAAuH;AACvH,SAAgB,wBAAwB,CACpC,UAA4B,EAAE,gBAAyB;IAAvD,2BAAA,EAAA,eAA4B;IAC9B,IAAM,IAAI,GAAG,gBAAgB,CAAC,IAAI,CAAC;IACnC,IAAM,GAAG,GAAG,gBAAgB,CAAC,GAAG,CAAC;IACjC,IAAM,YAAY,GAAG,gBAAgB,CAAC,IAAI,GAAG,gBAAgB,CAAC,KAAK,CAAC;IACpE,IAAM,YAAY,GAAG,gBAAgB,CAAC,GAAG,GAAG,gBAAgB,CAAC,MAAM,CAAC;IAEpE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QAC1C,IAAM,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;QAChC,IAAM,mBAAmB,GAAG,SAAS,CAAC,YAAY,CAAC,mBAAmB,CAAC;QACvE,IAAM,IAAI,GAAG,CAAC,mBAAmB,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;QACpE,IAAM,IAAI,GAAG,CAAC,mBAAmB,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;QACnE,IAAM,KAAK,GAAG,mBAAmB,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;QAC7D,IAAM,MAAM,GAAG,mBAAmB,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;QAC/D,mBAAmB,CAAC,IAAI,GAAG,IAAI,CAAC;QAChC,mBAAmB,CAAC,IAAI,GAAG,IAAI,CAAC;QAChC,mBAAmB,CAAC,KAAK,GAAG,KAAK,CAAC;QAClC,mBAAmB,CAAC,MAAM,GAAG,MAAM,CAAC;QACpC,mBAAmB,CAAC,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC;QACxC,mBAAmB,CAAC,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC;QAEzC,IAAM,iBAAiB,GAAG,SAAS,CAAC,YAAY,CAAC,iBAAiB,CAAC;QAEnE,IAAI,iBAAiB,EAAE;YACrB,iBAAiB,CAAC,OAAO,CAAC,UAAA,QAAQ;gBAChC,IAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;gBACtD,IAAM,IAAI,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC;gBACrD,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC;gBAClB,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC;YACpB,CAAC,CAAC,CAAC;SACJ;KACF;IAED,OAAO,UAAU,CAAC;AACpB,CAAC;AAlCD,4DAkCC","sourcesContent":[null]}},"error":null,"hash":"f53b41d209aa6591c4631d5c7ac448c8","cacheData":{"env":{}}}