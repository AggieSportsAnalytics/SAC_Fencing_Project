{"id":"node_modules/mongodb/lib/cmap/auth/auth_provider.js","dependencies":[{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/cmap/auth/auth_provider.js.map","includedInParent":true,"mtime":1705280625984},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/src/cmap/auth/auth_provider.ts","includedInParent":true,"mtime":1705280625984},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/package.json","includedInParent":true,"mtime":1705897905701},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/.babelrc","includedInParent":true,"mtime":1701727604305},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/package.json","includedInParent":true,"mtime":1705280625984},{"name":"../../error","loc":{"line":4,"column":24,"index":154},"parent":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/cmap/auth/auth_provider.js","resolved":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/error.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthProvider = exports.AuthContext = void 0;\nconst error_1 = require(\"../../error\");\n/**\n * Context used during authentication\n * @internal\n */\nclass AuthContext {\n  constructor(connection, credentials, options) {\n    /** If the context is for reauthentication. */\n    this.reauthenticating = false;\n    this.connection = connection;\n    this.credentials = credentials;\n    this.options = options;\n  }\n}\nexports.AuthContext = AuthContext;\nclass AuthProvider {\n  /**\n   * Prepare the handshake document before the initial handshake.\n   *\n   * @param handshakeDoc - The document used for the initial handshake on a connection\n   * @param authContext - Context for authentication flow\n   */\n  async prepare(handshakeDoc, _authContext) {\n    return handshakeDoc;\n  }\n  /**\n   * Reauthenticate.\n   * @param context - The shared auth context.\n   */\n  async reauth(context) {\n    if (context.reauthenticating) {\n      throw new error_1.MongoRuntimeError('Reauthentication already in progress.');\n    }\n    try {\n      context.reauthenticating = true;\n      await this.auth(context);\n    } finally {\n      context.reauthenticating = false;\n    }\n  }\n}\nexports.AuthProvider = AuthProvider;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":6}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":13}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":16}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":23}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":24}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":37}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":38}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":12,"column":0}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":12,"column":6}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":24},"generated":{"line":12,"column":17}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":24},"generated":{"line":12,"column":18}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":13,"column":2}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":13,"column":13}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":13,"column":14}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":27,"column":26},"generated":{"line":13,"column":24}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":13,"column":26}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":28,"column":45},"generated":{"line":13,"column":37}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":13,"column":39}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":29,"column":30},"generated":{"line":13,"column":46}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":29,"column":30},"generated":{"line":13,"column":48}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":14,"column":4}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":15,"column":4}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":15,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":15,"column":9}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":17,"column":18},"generated":{"line":15,"column":25}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":17,"column":21},"generated":{"line":15,"column":28}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":17,"column":26},"generated":{"line":15,"column":33}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":16,"column":4}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":16,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":31,"column":9},"generated":{"line":16,"column":9}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":16,"column":19}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":16,"column":22}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":31,"column":32},"generated":{"line":16,"column":32}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":17,"column":4}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":17,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":17,"column":9}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":32,"column":20},"generated":{"line":17,"column":20}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":32,"column":23},"generated":{"line":17,"column":23}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":17,"column":34}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":18,"column":4}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":18,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":18,"column":9}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":33,"column":16},"generated":{"line":18,"column":16}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":18,"column":19}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":33,"column":26},"generated":{"line":18,"column":26}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":19,"column":2}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":21,"column":0}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":21,"column":7}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":21,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":21,"column":19}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":21,"column":22}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":21,"column":33}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":22,"column":0}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":22,"column":6}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":34},"generated":{"line":22,"column":18}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":34},"generated":{"line":22,"column":19}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":23,"column":2}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":29,"column":2}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":29,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":44,"column":15},"generated":{"line":29,"column":15}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":29,"column":16}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":45,"column":35},"generated":{"line":29,"column":28}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":29,"column":30}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":46,"column":29},"generated":{"line":29,"column":42}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":46,"column":29},"generated":{"line":29,"column":44}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":30,"column":4}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":30,"column":11}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":48,"column":23},"generated":{"line":30,"column":23}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":49,"column":2},"generated":{"line":31,"column":2}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":32,"column":2}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":36,"column":2}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":36,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":62,"column":14},"generated":{"line":36,"column":14}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":36,"column":15}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":62,"column":35},"generated":{"line":36,"column":22}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":62,"column":35},"generated":{"line":36,"column":24}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":37,"column":4}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":37,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":63,"column":15},"generated":{"line":37,"column":15}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":63,"column":16},"generated":{"line":37,"column":16}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":37,"column":32}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":63,"column":34},"generated":{"line":37,"column":34}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":64,"column":6},"generated":{"line":38,"column":6}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":64,"column":12},"generated":{"line":38,"column":12}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":38,"column":16}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":38,"column":23}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":38,"column":24}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":64,"column":33},"generated":{"line":38,"column":41}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":64,"column":34},"generated":{"line":38,"column":42}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":64,"column":73},"generated":{"line":38,"column":81}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":64,"column":74},"generated":{"line":38,"column":82}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":40,"column":4}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":40,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":41,"column":6}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":41,"column":13}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":67,"column":14},"generated":{"line":41,"column":14}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":67,"column":30},"generated":{"line":41,"column":30}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":67,"column":33},"generated":{"line":41,"column":33}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":67,"column":37},"generated":{"line":41,"column":37}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":68,"column":6},"generated":{"line":42,"column":6}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":68,"column":12},"generated":{"line":42,"column":12}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":42,"column":16}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":68,"column":17},"generated":{"line":42,"column":17}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":68,"column":21},"generated":{"line":42,"column":21}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":68,"column":22},"generated":{"line":42,"column":22}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":68,"column":29},"generated":{"line":42,"column":29}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":68,"column":30},"generated":{"line":42,"column":30}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":69,"column":5},"generated":{"line":43,"column":5}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":69,"column":14},"generated":{"line":43,"column":14}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":70,"column":6},"generated":{"line":44,"column":6}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":44,"column":13}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":70,"column":14},"generated":{"line":44,"column":14}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":70,"column":30},"generated":{"line":44,"column":30}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":70,"column":33},"generated":{"line":44,"column":33}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":70,"column":38},"generated":{"line":44,"column":38}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":72,"column":2},"generated":{"line":46,"column":2}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":48,"column":0}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":48,"column":7}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":48,"column":8}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":48,"column":20}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":48,"column":23}},{"source":"../../../src/cmap/auth/auth_provider.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":48,"column":35}}],"sources":{"../../../src/cmap/auth/auth_provider.ts":"import type { Document } from '../../bson';\nimport { MongoRuntimeError } from '../../error';\nimport type { HandshakeDocument } from '../connect';\nimport type { Connection, ConnectionOptions } from '../connection';\nimport type { MongoCredentials } from './mongo_credentials';\n\n/**\n * Context used during authentication\n * @internal\n */\nexport class AuthContext {\n  /** The connection to authenticate */\n  connection: Connection;\n  /** The credentials to use for authentication */\n  credentials?: MongoCredentials;\n  /** If the context is for reauthentication. */\n  reauthenticating = false;\n  /** The options passed to the `connect` method */\n  options: ConnectionOptions;\n\n  /** A response from an initial auth attempt, only some mechanisms use this (e.g, SCRAM) */\n  response?: Document;\n  /** A random nonce generated for use in an authentication conversation */\n  nonce?: Buffer;\n\n  constructor(\n    connection: Connection,\n    credentials: MongoCredentials | undefined,\n    options: ConnectionOptions\n  ) {\n    this.connection = connection;\n    this.credentials = credentials;\n    this.options = options;\n  }\n}\n\nexport abstract class AuthProvider {\n  /**\n   * Prepare the handshake document before the initial handshake.\n   *\n   * @param handshakeDoc - The document used for the initial handshake on a connection\n   * @param authContext - Context for authentication flow\n   */\n  async prepare(\n    handshakeDoc: HandshakeDocument,\n    _authContext: AuthContext\n  ): Promise<HandshakeDocument> {\n    return handshakeDoc;\n  }\n\n  /**\n   * Authenticate\n   *\n   * @param context - A shared context for authentication flow\n   */\n  abstract auth(context: AuthContext): Promise<void>;\n\n  /**\n   * Reauthenticate.\n   * @param context - The shared auth context.\n   */\n  async reauth(context: AuthContext): Promise<void> {\n    if (context.reauthenticating) {\n      throw new MongoRuntimeError('Reauthentication already in progress.');\n    }\n    try {\n      context.reauthenticating = true;\n      await this.auth(context);\n    } finally {\n      context.reauthenticating = false;\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"ed73ec4932028adab4d1011146bdb560","cacheData":{"env":{}}}