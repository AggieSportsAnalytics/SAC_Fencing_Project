{"id":"node_modules/@tensorflow-models/pose-detection/movenet/detector_utils.js","dependencies":[{"name":"C:\\Users\\Lenovo\\Documents\\SAC Fencing CV\\tfjs-models\\pose-detection\\demos\\upload_video\\node_modules\\@tensorflow-models\\pose-detection\\movenet\\detector_utils.js.map","includedInParent":true,"mtime":1694704590975},{"name":"C:\\Users\\Lenovo\\Documents\\SAC Fencing CV\\tfjs-models\\pose-detection\\demos\\upload_video\\package.json","includedInParent":true,"mtime":1694684692056},{"name":"C:\\Users\\Lenovo\\Documents\\SAC Fencing CV\\tfjs-models\\pose-detection\\demos\\upload_video\\.babelrc","includedInParent":true,"mtime":1694684692055},{"name":"../calculators/types","loc":{"line":31,"column":22},"parent":"C:\\Users\\Lenovo\\Documents\\SAC Fencing CV\\tfjs-models\\pose-detection\\demos\\upload_video\\node_modules\\@tensorflow-models\\pose-detection\\movenet\\detector_utils.js","resolved":"C:\\Users\\Lenovo\\Documents\\SAC Fencing CV\\tfjs-models\\pose-detection\\demos\\upload_video\\node_modules\\@tensorflow-models\\pose-detection\\calculators\\types.js"},{"name":"./constants","loc":{"line":32,"column":26},"parent":"C:\\Users\\Lenovo\\Documents\\SAC Fencing CV\\tfjs-models\\pose-detection\\demos\\upload_video\\node_modules\\@tensorflow-models\\pose-detection\\movenet\\detector_utils.js","resolved":"C:\\Users\\Lenovo\\Documents\\SAC Fencing CV\\tfjs-models\\pose-detection\\demos\\upload_video\\node_modules\\@tensorflow-models\\pose-detection\\movenet\\constants.js"}],"generated":{"js":"\"use strict\";\r\n/**\r\n * @license\r\n * Copyright 2021 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.mergeBoundingBoxTrackerConfig = exports.mergeKeypointTrackerConfig = exports.validateEstimationConfig = exports.validateModelConfig = void 0;\r\nvar types_1 = require(\"../calculators/types\");\r\nvar constants_1 = require(\"./constants\");\r\nfunction validateModelConfig(modelConfig) {\r\n    var config = modelConfig == null ? constants_1.MOVENET_CONFIG : __assign({}, modelConfig);\r\n    if (config.modelType == null) {\r\n        config.modelType = 'SinglePose.Lightning';\r\n    }\r\n    else if (constants_1.VALID_MODELS.indexOf(config.modelType) < 0) {\r\n        throw new Error(\"Invalid architecture \".concat(config.modelType, \". \") +\r\n            \"Should be one of \".concat(constants_1.VALID_MODELS));\r\n    }\r\n    if (config.enableSmoothing == null) {\r\n        config.enableSmoothing = true;\r\n    }\r\n    if (config.minPoseScore != null &&\r\n        (config.minPoseScore < 0.0 || config.minPoseScore > 1.0)) {\r\n        throw new Error(\"minPoseScore should be between 0.0 and 1.0\");\r\n    }\r\n    if (config.multiPoseMaxDimension != null &&\r\n        (config.multiPoseMaxDimension % 32 !== 0 ||\r\n            config.multiPoseMaxDimension < 32)) {\r\n        throw new Error(\"multiPoseMaxDimension must be a multiple of 32 and higher than 0\");\r\n    }\r\n    if (config.modelType === constants_1.MULTIPOSE_LIGHTNING &&\r\n        config.enableTracking == null) {\r\n        config.enableTracking = true;\r\n    }\r\n    if (config.modelType === constants_1.MULTIPOSE_LIGHTNING &&\r\n        config.enableTracking === true) {\r\n        if (config.trackerType == null) {\r\n            config.trackerType = types_1.TrackerType.BoundingBox;\r\n        }\r\n        if (config.trackerType === types_1.TrackerType.Keypoint) {\r\n            if (config.trackerConfig != null) {\r\n                config.trackerConfig = mergeKeypointTrackerConfig(config.trackerConfig);\r\n            }\r\n            else {\r\n                config.trackerConfig = constants_1.DEFAULT_KEYPOINT_TRACKER_CONFIG;\r\n            }\r\n        }\r\n        else if (config.trackerType === types_1.TrackerType.BoundingBox) {\r\n            if (config.trackerConfig != null) {\r\n                config.trackerConfig =\r\n                    mergeBoundingBoxTrackerConfig(config.trackerConfig);\r\n            }\r\n            else {\r\n                config.trackerConfig = constants_1.DEFAULT_BOUNDING_BOX_TRACKER_CONFIG;\r\n            }\r\n        }\r\n        else {\r\n            throw new Error('Tracker type not supported by MoveNet');\r\n        }\r\n        // We don't need to validate the trackerConfig here because the tracker will\r\n        // take care of that.\r\n    }\r\n    return config;\r\n}\r\nexports.validateModelConfig = validateModelConfig;\r\nfunction validateEstimationConfig(estimationConfig) {\r\n    var config = estimationConfig == null ? constants_1.MOVENET_ESTIMATION_CONFIG : __assign({}, estimationConfig);\r\n    return config;\r\n}\r\nexports.validateEstimationConfig = validateEstimationConfig;\r\nfunction mergeBaseTrackerConfig(defaultConfig, userConfig) {\r\n    var mergedConfig = {\r\n        maxTracks: defaultConfig.maxTracks,\r\n        maxAge: defaultConfig.maxAge,\r\n        minSimilarity: defaultConfig.minSimilarity,\r\n    };\r\n    if (userConfig.maxTracks != null) {\r\n        mergedConfig.maxTracks = userConfig.maxTracks;\r\n    }\r\n    if (userConfig.maxAge != null) {\r\n        mergedConfig.maxAge = userConfig.maxAge;\r\n    }\r\n    if (userConfig.minSimilarity != null) {\r\n        mergedConfig.minSimilarity = userConfig.minSimilarity;\r\n    }\r\n    return mergedConfig;\r\n}\r\nfunction mergeKeypointTrackerConfig(userConfig) {\r\n    var mergedConfig = mergeBaseTrackerConfig(constants_1.DEFAULT_KEYPOINT_TRACKER_CONFIG, userConfig);\r\n    mergedConfig.keypointTrackerParams = __assign({}, constants_1.DEFAULT_KEYPOINT_TRACKER_CONFIG.keypointTrackerParams);\r\n    if (userConfig.keypointTrackerParams != null) {\r\n        if (userConfig.keypointTrackerParams.keypointConfidenceThreshold != null) {\r\n            mergedConfig.keypointTrackerParams.keypointConfidenceThreshold =\r\n                userConfig.keypointTrackerParams.keypointConfidenceThreshold;\r\n        }\r\n        if (userConfig.keypointTrackerParams.keypointFalloff != null) {\r\n            mergedConfig.keypointTrackerParams.keypointFalloff =\r\n                userConfig.keypointTrackerParams.keypointFalloff;\r\n        }\r\n        if (userConfig.keypointTrackerParams.minNumberOfKeypoints != null) {\r\n            mergedConfig.keypointTrackerParams.minNumberOfKeypoints =\r\n                userConfig.keypointTrackerParams.minNumberOfKeypoints;\r\n        }\r\n    }\r\n    return mergedConfig;\r\n}\r\nexports.mergeKeypointTrackerConfig = mergeKeypointTrackerConfig;\r\nfunction mergeBoundingBoxTrackerConfig(userConfig) {\r\n    var mergedConfig = mergeBaseTrackerConfig(constants_1.DEFAULT_BOUNDING_BOX_TRACKER_CONFIG, userConfig);\r\n    return mergedConfig;\r\n}\r\nexports.mergeBoundingBoxTrackerConfig = mergeBoundingBoxTrackerConfig;\r\n"},"sourceMaps":{"js":{"version":3,"file":"detector_utils.js","sourceRoot":"","sources":["../../src/movenet/detector_utils.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"f5f20c42c1947374770feeb6a8595622","cacheData":{"env":{}}}