{"id":"node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","dependencies":[{"name":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js.map","includedInParent":true,"mtime":1701727604751},{"name":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/package.json","includedInParent":true,"mtime":1706695927697},{"name":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/.babelrc","includedInParent":true,"mtime":1701727604305},{"name":"../calculators/get_object_scale","loc":{"line":20,"column":33,"index":857},"parent":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","resolved":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/calculators/get_object_scale.js"},{"name":"../calculators/keypoints_to_normalized_keypoints","loc":{"line":21,"column":50,"index":943},"parent":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","resolved":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/calculators/keypoints_to_normalized_keypoints.js"},{"name":"../calculators/normalized_keypoints_to_keypoints","loc":{"line":22,"column":50,"index":1046},"parent":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","resolved":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/calculators/normalized_keypoints_to_keypoints.js"},{"name":"./keypoints_one_euro_filter","loc":{"line":23,"column":42,"index":1141},"parent":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","resolved":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_one_euro_filter.js"},{"name":"./keypoints_velocity_filter","loc":{"line":24,"column":42,"index":1215},"parent":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_smoothing.js","resolved":"/Users/vpenumarti/Desktop/CS/Aggie_Sports_Analytics/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/shared/filters/keypoints_velocity_filter.js"}],"generated":{"js":"\"use strict\";\n/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KeypointsSmoothingFilter = void 0;\nvar get_object_scale_1 = require(\"../calculators/get_object_scale\");\nvar keypoints_to_normalized_keypoints_1 = require(\"../calculators/keypoints_to_normalized_keypoints\");\nvar normalized_keypoints_to_keypoints_1 = require(\"../calculators/normalized_keypoints_to_keypoints\");\nvar keypoints_one_euro_filter_1 = require(\"./keypoints_one_euro_filter\");\nvar keypoints_velocity_filter_1 = require(\"./keypoints_velocity_filter\");\n/**\n * A Calculator to smooth keypoints over time.\n */\nvar KeypointsSmoothingFilter = /** @class */ (function () {\n    function KeypointsSmoothingFilter(config) {\n        if (config.velocityFilter != null) {\n            this.keypointsFilter = new keypoints_velocity_filter_1.KeypointsVelocityFilter(config.velocityFilter);\n        }\n        else if (config.oneEuroFilter != null) {\n            this.keypointsFilter = new keypoints_one_euro_filter_1.KeypointsOneEuroFilter(config.oneEuroFilter);\n        }\n        else {\n            throw new Error('Either configure velocityFilter or oneEuroFilter, but got ' +\n                \"\".concat(config, \".\"));\n        }\n    }\n    /**\n     * Apply one of the stateful `KeypointsFilter` to keypoints.\n     *\n     * Currently supports `OneEuroFilter` and `VelocityFilter`.\n     * @param keypoints A list of 2D or 3D keypoints, can be normalized or\n     *     non-normalized.\n     * @param timestamp The timestamp of the video frame.\n     * @param imageSize Optional. The imageSize is useful when keypoints are\n     *     normalized.\n     * @param normalized Optional. Whether the keypoints are normalized. Default\n     *     to false.\n     * @param objectScaleROI Optional. The auxiliary ROI to calculate object\n     *     scale. If not set, objectScale defaults to 1.\n     */\n    KeypointsSmoothingFilter.prototype.apply = function (keypoints, timestamp, imageSize, normalized, objectScaleROI) {\n        if (normalized === void 0) { normalized = false; }\n        if (keypoints == null) {\n            this.keypointsFilter.reset();\n            return null;\n        }\n        var objectScale = objectScaleROI != null ? (0, get_object_scale_1.getObjectScale)(objectScaleROI, imageSize) : 1;\n        var scaledKeypoints = normalized ?\n            (0, normalized_keypoints_to_keypoints_1.normalizedKeypointsToKeypoints)(keypoints, imageSize) :\n            keypoints;\n        var scaledKeypointsFiltered = this.keypointsFilter.apply(scaledKeypoints, timestamp, objectScale);\n        return normalized ?\n            (0, keypoints_to_normalized_keypoints_1.keypointsToNormalizedKeypoints)(scaledKeypointsFiltered, imageSize) :\n            scaledKeypointsFiltered;\n    };\n    return KeypointsSmoothingFilter;\n}());\nexports.KeypointsSmoothingFilter = KeypointsSmoothingFilter;\n"},"sourceMaps":{"js":{"version":3,"file":"keypoints_smoothing.js","sourceRoot":"","sources":["../../../src/shared/filters/keypoints_smoothing.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;GAeG;;;AAEH,oEAA+D;AAI/D,sGAAgG;AAChG,sGAAgG;AAEhG,yEAAmE;AACnE,yEAAoE;AAEpE;;GAEG;AACH;IAGE,kCAAY,MAAgC;QAC1C,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI,EAAE;YACjC,IAAI,CAAC,eAAe,GAAG,IAAI,mDAAuB,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;SAC3E;aAAM,IAAI,MAAM,CAAC,aAAa,IAAI,IAAI,EAAE;YACvC,IAAI,CAAC,eAAe,GAAG,IAAI,kDAAsB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;SACzE;aAAM;YACL,MAAM,IAAI,KAAK,CACX,4DAA4D;gBAC5D,UAAG,MAAM,MAAG,CAAC,CAAC;SACnB;IACH,CAAC;IAED;;;;;;;;;;;;;OAaG;IACH,wCAAK,GAAL,UACI,SAAqB,EAAE,SAAiB,EAAE,SAAqB,EAC/D,UAAkB,EAAE,cAAqB;QAAzC,2BAAA,EAAA,kBAAkB;QACpB,IAAI,SAAS,IAAI,IAAI,EAAE;YACrB,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;YAC7B,OAAO,IAAI,CAAC;SACb;QAED,IAAM,WAAW,GACb,cAAc,IAAI,IAAI,CAAC,CAAC,CAAC,IAAA,iCAAc,EAAC,cAAc,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE3E,IAAM,eAAe,GAAG,UAAU,CAAC,CAAC;YAChC,IAAA,kEAA8B,EAAC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;YACtD,SAAS,CAAC;QACd,IAAM,uBAAuB,GACzB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,eAAe,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;QAExE,OAAO,UAAU,CAAC,CAAC;YACf,IAAA,kEAA8B,EAAC,uBAAuB,EAAE,SAAS,CAAC,CAAC,CAAC;YACpE,uBAAuB,CAAC;IAC9B,CAAC;IACH,+BAAC;AAAD,CAAC,AAlDD,IAkDC;AAlDY,4DAAwB","sourcesContent":[null]}},"error":null,"hash":"13544eb36fcaa3a85be39b2db6ee401b","cacheData":{"env":{}}}