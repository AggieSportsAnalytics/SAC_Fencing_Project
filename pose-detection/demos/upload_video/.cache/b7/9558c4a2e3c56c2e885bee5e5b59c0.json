{"id":"node_modules/@tensorflow/tfjs-backend-webgpu/dist/crop_and_resize_webgpu.js","dependencies":[{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/package.json","includedInParent":true,"mtime":1699064044040},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/.babelrc","includedInParent":true,"mtime":1699061165674},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow/tfjs-backend-webgpu/package.json","includedInParent":true,"mtime":1701484538054},{"name":"./webgpu_program","loc":{"line":17,"column":44},"parent":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow/tfjs-backend-webgpu/dist/crop_and_resize_webgpu.js","resolved":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow/tfjs-backend-webgpu/dist/webgpu_program.js"},{"name":"./webgpu_util","loc":{"line":18,"column":52},"parent":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow/tfjs-backend-webgpu/dist/crop_and_resize_webgpu.js","resolved":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow/tfjs-backend-webgpu/dist/webgpu_util.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CropAndResizeProgram = void 0;\n\nvar _webgpu_program = require(\"./webgpu_program\");\n\nvar _webgpu_util = require(\"./webgpu_util\");\n\n/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nclass CropAndResizeProgram {\n  constructor(channnel, boxShape, cropSize, method) {\n    this.variableNames = ['Image', 'Boxes', 'BoxInd'];\n    this.uniforms = 'extrapolationValue : f32,';\n    this.workgroupSize = [64, 1, 1];\n    this.size = true;\n    const [numBoxes] = boxShape;\n    this.outputShape = [numBoxes, cropSize[0], cropSize[1], channnel];\n    this.dispatchLayout = (0, _webgpu_util.flatDispatchLayout)(this.outputShape);\n    this.dispatch = (0, _webgpu_util.computeDispatch)(this.dispatchLayout, this.outputShape, this.workgroupSize);\n    this.methodId = method === 'bilinear' ? 1 : 0;\n    this.cropHeightBiggerThan1 = this.outputShape[1] > 1;\n    this.cropWidthBiggerThan1 = this.outputShape[2] > 1;\n    this.shaderKey = `cropAndResize_${this.methodId}_${this.cropHeightBiggerThan1}_${this.cropWidthBiggerThan1}`;\n  }\n\n  getUserCode() {\n    const [inputHeightFloat, inputWidthFloat] = [`f32(uniforms.imageShape[1] - 1)`, `f32(uniforms.imageShape[2] - 1)`];\n    const [heightRatio, heightScale, inY] = this.cropHeightBiggerThan1 ? [`(${inputHeightFloat} / f32(uniforms.outShape[1] - 1))`, '(y2-y1) * height_ratio', `y1*${inputHeightFloat} + f32(y)*(height_scale)`] : ['0.0', '0.0', `0.5 * (y1+y2) * ${inputHeightFloat}`];\n    const [widthRatio, widthScale, inX] = this.cropWidthBiggerThan1 ? [`(${inputWidthFloat} / f32(uniforms.outShape[2] - 1))`, '(x2-x1) * width_ratio', `x1*${inputWidthFloat} + f32(x)*(width_scale)`] : ['0.0', '0.0', `0.5 * (x1+x2) * ${inputWidthFloat}`]; // Reference implementation\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/crop_and_resize_op_gpu.cu.cc\n\n    const userCode = `\n    ${(0, _webgpu_program.getMainHeaderString)('index')} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let height_ratio = f32(${heightRatio});\n        let width_ratio = f32(${widthRatio});\n        let b = coords[0];\n        let y = coords[1];\n        let x = coords[2];\n        let d = coords[3];\n        // get box vals\n        let y1 = getBoxes(b, 0);\n        let x1 = getBoxes(b, 1);\n        let y2 = getBoxes(b, 2);\n        let x2 = getBoxes(b, 3);\n        // get image in batch index\n        let bInd = i32(round(getBoxInd(b)));\n        if(bInd < 0 || bInd >= uniforms.outShape[0]) {\n          return;\n        }\n        let height_scale = ${heightScale};\n        let width_scale = ${widthScale};\n        let in_y = ${inY};\n        if( in_y < 0.0 || in_y > ${inputHeightFloat} ) {\n          setOutputAtIndex(index, uniforms.extrapolationValue);\n          return;\n        }\n        let in_x = ${inX};\n        if( in_x < 0.0 || in_x > ${inputWidthFloat} ) {\n          setOutputAtIndex(index, uniforms.extrapolationValue);\n          return;\n        }\n        let sourceFracIndexCR = vec2<f32>(in_x,in_y);\n        if(${this.methodId} == 1) {\n          // Compute the four integer indices.\n          let sourceFloorCR = vec2<i32>(sourceFracIndexCR);\n          let sourceCeilCR = vec2<i32>(ceil(sourceFracIndexCR));\n          let topLeft = getImage(bInd, sourceFloorCR.y, sourceFloorCR.x, d);\n          let bottomLeft = getImage(bInd, sourceCeilCR.y, sourceFloorCR.x, d);\n          let topRight = getImage(bInd, sourceFloorCR.y, sourceCeilCR.x, d);\n          let bottomRight = getImage(bInd, sourceCeilCR.y, sourceCeilCR.x, d);\n          let fracCR = sourceFracIndexCR - vec2<f32>(sourceFloorCR);\n          let top = topLeft + (topRight - topLeft) * fracCR.x;\n          let bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          let newValue = top + (bottom - top) * fracCR.y;\n          setOutputAtIndex(index, newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          let sourceNearestCR = vec2<i32>(floor(\n            sourceFracIndexCR + vec2<f32>(0.5,0.5)));\n          let newValue = getImage(\n            bInd, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutputAtIndex(index, newValue);\n        }\n      }\n    }\n    `;\n    return userCode;\n  }\n\n}\n\nexports.CropAndResizeProgram = CropAndResizeProgram;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":10,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":12,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":28,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":21,"column":13},"generated":{"line":28,"column":6}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":28,"column":26}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":21,"column":33},"generated":{"line":28,"column":27}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":29,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":29,"column":2}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":29,"column":13}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":29,"column":14}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":29,"column":22}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":35,"column":24},"generated":{"line":29,"column":24}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":29,"column":32}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":35,"column":52},"generated":{"line":29,"column":34}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":29,"column":42}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":29,"column":44}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":29,"column":50}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":36,"column":34},"generated":{"line":29,"column":52}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":30,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":30,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":30,"column":22}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":30,"column":25}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":30,"column":26}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":30,"column":33}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":30,"column":35}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":30,"column":42}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":37},"generated":{"line":30,"column":44}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":30,"column":52}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":30,"column":53}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":31,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":31,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":31,"column":17}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":31,"column":20}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":31,"column":47}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":32,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":32,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":32,"column":22}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":44},"generated":{"line":32,"column":25}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":45},"generated":{"line":32,"column":26}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":44},"generated":{"line":32,"column":28}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":49},"generated":{"line":32,"column":30}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":44},"generated":{"line":32,"column":31}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":52},"generated":{"line":32,"column":33}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":44},"generated":{"line":32,"column":34}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":32,"column":35}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":33,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":33,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":33,"column":13}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":33,"column":16}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":33,"column":20}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":34,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":34,"column":10}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":34,"column":11}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":37,"column":10},"generated":{"line":34,"column":19}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":37,"column":25},"generated":{"line":34,"column":23}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":34,"column":31}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":35,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":35,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":35,"column":20}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":35,"column":23}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":24},"generated":{"line":35,"column":24}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":35,"column":32}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":34},"generated":{"line":35,"column":34}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":42},"generated":{"line":35,"column":42}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":43},"generated":{"line":35,"column":43}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":42},"generated":{"line":35,"column":44}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":35,"column":45}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":47},"generated":{"line":35,"column":47}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":55},"generated":{"line":35,"column":55}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":56},"generated":{"line":35,"column":56}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":55},"generated":{"line":35,"column":57}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":35,"column":58}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":60},"generated":{"line":35,"column":60}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":23},"generated":{"line":35,"column":68}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":35,"column":69}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":36,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":36,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":36,"column":23}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":39,"column":26},"generated":{"line":36,"column":26}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":39,"column":45},"generated":{"line":36,"column":63}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":39,"column":50},"generated":{"line":36,"column":68}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":39,"column":26},"generated":{"line":36,"column":79}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":36,"column":80}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":37,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":37,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":37,"column":17}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":40,"column":20},"generated":{"line":37,"column":20}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":37,"column":54}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":37,"column":59}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":40,"column":20},"generated":{"line":37,"column":73}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":41,"column":29},"generated":{"line":37,"column":75}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":37,"column":80}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":40,"column":20},"generated":{"line":37,"column":91}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":41,"column":47},"generated":{"line":37,"column":93}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":41,"column":52},"generated":{"line":37,"column":98}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":40,"column":20},"generated":{"line":37,"column":111}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":37,"column":112}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":38,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":38,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":38,"column":17}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":20},"generated":{"line":38,"column":20}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":26},"generated":{"line":38,"column":26}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":31},"generated":{"line":38,"column":31}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":20},"generated":{"line":38,"column":41}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":44},"generated":{"line":38,"column":44}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":20},"generated":{"line":38,"column":45}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":48},"generated":{"line":38,"column":48}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":38,"column":49}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":39,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":39,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":39,"column":30}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":33},"generated":{"line":39,"column":33}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":38},"generated":{"line":39,"column":38}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":33},"generated":{"line":39,"column":49}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":50},"generated":{"line":39,"column":50}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":33},"generated":{"line":39,"column":51}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":55},"generated":{"line":39,"column":55}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":39,"column":56}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":40,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":40,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":40,"column":29}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":32},"generated":{"line":40,"column":32}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":37},"generated":{"line":40,"column":37}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":32},"generated":{"line":40,"column":48}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":49},"generated":{"line":40,"column":49}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":32},"generated":{"line":40,"column":50}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":54},"generated":{"line":40,"column":54}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":40,"column":55}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":41,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":46,"column":9},"generated":{"line":41,"column":9}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":41,"column":18}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":46,"column":21},"generated":{"line":41,"column":21}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":46,"column":38},"generated":{"line":41,"column":38}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":46,"column":43},"generated":{"line":41,"column":43}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":46,"column":51},"generated":{"line":41,"column":51}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":41,"column":55}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":47,"column":13},"generated":{"line":41,"column":60}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":47,"column":34},"generated":{"line":41,"column":81}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":47,"column":38},"generated":{"line":41,"column":85}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":47,"column":43},"generated":{"line":41,"column":90}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":47,"column":63},"generated":{"line":41,"column":110}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":41,"column":112}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":48,"column":3},"generated":{"line":42,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":44,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":44,"column":2}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":44,"column":13}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":44,"column":16}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":45,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":45,"column":10}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":51,"column":11},"generated":{"line":45,"column":11}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":45,"column":27}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":51,"column":29},"generated":{"line":45,"column":29}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":45,"column":44}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":45,"column":48}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":45,"column":49}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":45,"column":82}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":52,"column":44},"generated":{"line":45,"column":84}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":45,"column":117}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":45,"column":118}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":46,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":10},"generated":{"line":46,"column":10}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":11},"generated":{"line":46,"column":11}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":10},"generated":{"line":46,"column":22}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":24},"generated":{"line":46,"column":24}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":10},"generated":{"line":46,"column":35}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":37},"generated":{"line":46,"column":37}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":10},"generated":{"line":46,"column":40}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":44},"generated":{"line":46,"column":44}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":49},"generated":{"line":46,"column":49}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":44},"generated":{"line":46,"column":70}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":46,"column":73}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":56,"column":10},"generated":{"line":46,"column":74}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":56,"column":14},"generated":{"line":46,"column":78}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":56,"column":30},"generated":{"line":46,"column":94}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":46,"column":129}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":46,"column":131}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":46,"column":155}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":46,"column":157}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":46,"column":163}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":58,"column":32},"generated":{"line":46,"column":179}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":46,"column":205}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":44},"generated":{"line":46,"column":206}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":46,"column":209}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":46,"column":210}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":46,"column":215}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":46,"column":217}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":46,"column":222}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":63,"column":10},"generated":{"line":46,"column":224}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":63,"column":29},"generated":{"line":46,"column":243}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":63,"column":45},"generated":{"line":46,"column":259}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":46,"column":261}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":46,"column":262}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":47,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":47,"column":10}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":47,"column":11}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":47,"column":21}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":23},"generated":{"line":47,"column":23}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":47,"column":33}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":35},"generated":{"line":47,"column":35}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":47,"column":38}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":42},"generated":{"line":47,"column":42}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":47},"generated":{"line":47,"column":47}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":42},"generated":{"line":47,"column":67}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":47,"column":70}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":67,"column":10},"generated":{"line":47,"column":71}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":67,"column":14},"generated":{"line":47,"column":75}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":67,"column":29},"generated":{"line":47,"column":90}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":47,"column":125}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":68,"column":10},"generated":{"line":47,"column":127}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":47,"column":150}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":47,"column":152}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":69,"column":16},"generated":{"line":47,"column":158}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":69,"column":31},"generated":{"line":47,"column":173}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":66,"column":8},"generated":{"line":47,"column":198}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":42},"generated":{"line":47,"column":199}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":47,"column":202}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":72,"column":10},"generated":{"line":47,"column":203}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":47,"column":208}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":73,"column":10},"generated":{"line":47,"column":210}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":47,"column":215}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":47,"column":217}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":47,"column":236}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":74,"column":44},"generated":{"line":47,"column":251}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":47,"column":253}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":47,"column":254}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":47,"column":255}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":77,"column":4},"generated":{"line":47,"column":256}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":48,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":79,"column":4},"generated":{"line":49,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":80,"column":4},"generated":{"line":51,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":80,"column":10},"generated":{"line":51,"column":10}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":80,"column":18},"generated":{"line":51,"column":18}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":80,"column":21},"generated":{"line":51,"column":21}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":81,"column":6},"generated":{"line":52,"column":6}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":52,"column":47}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":81,"column":6},"generated":{"line":52,"column":54}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":81,"column":19},"generated":{"line":52,"column":55}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":84,"column":33},"generated":{"line":55,"column":33}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":84,"column":44},"generated":{"line":55,"column":44}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":85,"column":32},"generated":{"line":56,"column":32}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":85,"column":42},"generated":{"line":56,"column":42}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":100,"column":29},"generated":{"line":71,"column":29}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":100,"column":40},"generated":{"line":71,"column":40}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":101,"column":28},"generated":{"line":72,"column":28}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":101,"column":38},"generated":{"line":72,"column":38}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":102,"column":21},"generated":{"line":73,"column":21}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":102,"column":24},"generated":{"line":73,"column":24}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":103,"column":35},"generated":{"line":74,"column":35}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":103,"column":51},"generated":{"line":74,"column":51}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":107,"column":21},"generated":{"line":78,"column":21}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":107,"column":24},"generated":{"line":78,"column":24}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":108,"column":35},"generated":{"line":79,"column":35}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":108,"column":50},"generated":{"line":79,"column":50}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":113,"column":13},"generated":{"line":84,"column":13}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":113,"column":18},"generated":{"line":84,"column":18}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":113,"column":26},"generated":{"line":84,"column":26}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":80,"column":4},"generated":{"line":107,"column":5}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":137,"column":4},"generated":{"line":108,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":137,"column":11},"generated":{"line":108,"column":11}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":137,"column":4},"generated":{"line":108,"column":19}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":138,"column":3},"generated":{"line":109,"column":0}},{"source":"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts","name":null,"original":{"line":21,"column":33},"generated":{"line":111,"column":0}}],"sources":{"../../../../../tfjs-backend-webgpu/src/crop_and_resize_webgpu.ts":"/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {getMainHeaderString as main, WebGPUProgram} from './webgpu_program';\nimport {computeDispatch, flatDispatchLayout} from './webgpu_util';\n\nexport class CropAndResizeProgram implements WebGPUProgram {\n  outputShape: number[];\n  shaderKey: string;\n  dispatchLayout: {x: number[]};\n  dispatch: [number, number, number];\n  variableNames = ['Image', 'Boxes', 'BoxInd'];\n  uniforms = 'extrapolationValue : f32,';\n  workgroupSize: [number, number, number] = [64, 1, 1];\n  methodId: number;\n  cropHeightBiggerThan1: boolean;\n  cropWidthBiggerThan1: boolean;\n  size = true;\n\n  constructor(\n      channnel: number, boxShape: [number, number], cropSize: [number, number],\n      method: 'bilinear'|'nearest') {\n    const [numBoxes, ] = boxShape;\n    this.outputShape = [numBoxes, cropSize[0], cropSize[1], channnel];\n    this.dispatchLayout = flatDispatchLayout(this.outputShape);\n    this.dispatch = computeDispatch(\n        this.dispatchLayout, this.outputShape, this.workgroupSize);\n\n    this.methodId = method === 'bilinear' ? 1 : 0;\n    this.cropHeightBiggerThan1 = this.outputShape[1] > 1;\n    this.cropWidthBiggerThan1 = this.outputShape[2] > 1;\n    this.shaderKey = `cropAndResize_${this.methodId}_${\n        this.cropHeightBiggerThan1}_${this.cropWidthBiggerThan1}`;\n  }\n\n  getUserCode(): string {\n    const [inputHeightFloat, inputWidthFloat] =\n        [`f32(uniforms.imageShape[1] - 1)`, `f32(uniforms.imageShape[2] - 1)`];\n\n    const [heightRatio, heightScale, inY] = this.cropHeightBiggerThan1 ?\n        [\n          `(${inputHeightFloat} / f32(uniforms.outShape[1] - 1))`,\n          '(y2-y1) * height_ratio',\n          `y1*${inputHeightFloat} + f32(y)*(height_scale)`,\n        ] :\n        [\n          '0.0',\n          '0.0',\n          `0.5 * (y1+y2) * ${inputHeightFloat}`,\n        ];\n    const [widthRatio, widthScale, inX] = this.cropWidthBiggerThan1 ?\n        [\n          `(${inputWidthFloat} / f32(uniforms.outShape[2] - 1))`,\n          '(x2-x1) * width_ratio',\n          `x1*${inputWidthFloat} + f32(x)*(width_scale)`,\n        ] :\n        [\n          '0.0',\n          '0.0',\n          `0.5 * (x1+x2) * ${inputWidthFloat}`,\n        ];\n\n    // Reference implementation\n    // tslint:disable-next-line:max-line-length\n    // https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/kernels/crop_and_resize_op_gpu.cu.cc\n    const userCode = `\n    ${main('index')} {\n      if (index < uniforms.size) {\n        let coords = getCoordsFromIndex(index);\n        let height_ratio = f32(${heightRatio});\n        let width_ratio = f32(${widthRatio});\n        let b = coords[0];\n        let y = coords[1];\n        let x = coords[2];\n        let d = coords[3];\n        // get box vals\n        let y1 = getBoxes(b, 0);\n        let x1 = getBoxes(b, 1);\n        let y2 = getBoxes(b, 2);\n        let x2 = getBoxes(b, 3);\n        // get image in batch index\n        let bInd = i32(round(getBoxInd(b)));\n        if(bInd < 0 || bInd >= uniforms.outShape[0]) {\n          return;\n        }\n        let height_scale = ${heightScale};\n        let width_scale = ${widthScale};\n        let in_y = ${inY};\n        if( in_y < 0.0 || in_y > ${inputHeightFloat} ) {\n          setOutputAtIndex(index, uniforms.extrapolationValue);\n          return;\n        }\n        let in_x = ${inX};\n        if( in_x < 0.0 || in_x > ${inputWidthFloat} ) {\n          setOutputAtIndex(index, uniforms.extrapolationValue);\n          return;\n        }\n        let sourceFracIndexCR = vec2<f32>(in_x,in_y);\n        if(${this.methodId} == 1) {\n          // Compute the four integer indices.\n          let sourceFloorCR = vec2<i32>(sourceFracIndexCR);\n          let sourceCeilCR = vec2<i32>(ceil(sourceFracIndexCR));\n          let topLeft = getImage(bInd, sourceFloorCR.y, sourceFloorCR.x, d);\n          let bottomLeft = getImage(bInd, sourceCeilCR.y, sourceFloorCR.x, d);\n          let topRight = getImage(bInd, sourceFloorCR.y, sourceCeilCR.x, d);\n          let bottomRight = getImage(bInd, sourceCeilCR.y, sourceCeilCR.x, d);\n          let fracCR = sourceFracIndexCR - vec2<f32>(sourceFloorCR);\n          let top = topLeft + (topRight - topLeft) * fracCR.x;\n          let bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          let newValue = top + (bottom - top) * fracCR.y;\n          setOutputAtIndex(index, newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          let sourceNearestCR = vec2<i32>(floor(\n            sourceFracIndexCR + vec2<f32>(0.5,0.5)));\n          let newValue = getImage(\n            bInd, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutputAtIndex(index, newValue);\n        }\n      }\n    }\n    `;\n    return userCode;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"6afaf0cc10112b80d2f9a0975f0af894","cacheData":{"env":{}}}