{"id":"node_modules/mongodb/lib/cmap/auth/mongodb_oidc/cache.js","dependencies":[{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/cmap/auth/mongodb_oidc/cache.js.map","includedInParent":true,"mtime":1705280625984},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/src/cmap/auth/mongodb_oidc/cache.ts","includedInParent":true,"mtime":1705280625984},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/package.json","includedInParent":true,"mtime":1705897977865},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/.babelrc","includedInParent":true,"mtime":1701727604305},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/package.json","includedInParent":true,"mtime":1705280625984}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Cache = exports.ExpiringCacheEntry = void 0;\n/* 5 minutes in milliseconds */\nconst EXPIRATION_BUFFER_MS = 300000;\n/**\n * An entry in a cache that can expire in a certain amount of time.\n */\nclass ExpiringCacheEntry {\n  /**\n   * Create a new expiring token entry.\n   */\n  constructor(expiration) {\n    this.expiration = this.expirationTime(expiration);\n  }\n  /**\n   * The entry is still valid if the expiration is more than\n   * 5 minutes from the expiration time.\n   */\n  isValid() {\n    return this.expiration - Date.now() > EXPIRATION_BUFFER_MS;\n  }\n  /**\n   * Get an expiration time in milliseconds past epoch.\n   */\n  expirationTime(expiresInSeconds) {\n    return Date.now() + expiresInSeconds * 1000;\n  }\n}\nexports.ExpiringCacheEntry = ExpiringCacheEntry;\n/**\n * Base class for OIDC caches.\n */\nclass Cache {\n  /**\n   * Create a new cache.\n   */\n  constructor() {\n    this.entries = new Map();\n  }\n  /**\n   * Clear the cache.\n   */\n  clear() {\n    this.entries.clear();\n  }\n  /**\n   * Create a cache key from the address and username.\n   */\n  hashedCacheKey(address, username, callbackHash) {\n    return JSON.stringify([address, username, callbackHash]);\n  }\n}\nexports.Cache = Cache;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":2,"column":6},"generated":{"line":8,"column":6}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":2,"column":26},"generated":{"line":8,"column":26}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":2,"column":29},"generated":{"line":8,"column":29}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":2,"column":35},"generated":{"line":8,"column":35}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":9,"column":0}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":0}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":22},"generated":{"line":12,"column":6}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":40},"generated":{"line":12,"column":24}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":40},"generated":{"line":12,"column":25}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":13,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":16,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":16,"column":13}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":13,"column":14},"generated":{"line":16,"column":14}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":16,"column":24}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":16,"column":26}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":17,"column":4}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":17,"column":8}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":17,"column":9}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":19},"generated":{"line":17,"column":19}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":22},"generated":{"line":17,"column":22}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":26},"generated":{"line":17,"column":26}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":27},"generated":{"line":17,"column":27}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":41},"generated":{"line":17,"column":41}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":42},"generated":{"line":17,"column":42}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":52},"generated":{"line":17,"column":52}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":14,"column":53},"generated":{"line":17,"column":53}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":18,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":19,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":23,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":23,"column":9}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":23,"column":10}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":23,"column":12}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":24,"column":4}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":11},"generated":{"line":24,"column":11}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":15},"generated":{"line":24,"column":15}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":24,"column":16}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":26},"generated":{"line":24,"column":26}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":29},"generated":{"line":24,"column":29}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":33},"generated":{"line":24,"column":33}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":34},"generated":{"line":24,"column":34}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":37},"generated":{"line":24,"column":37}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":37},"generated":{"line":24,"column":38}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":39},"generated":{"line":24,"column":39}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":42},"generated":{"line":24,"column":42}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":21,"column":62},"generated":{"line":24,"column":62}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":25,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":26,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":29,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":27,"column":24},"generated":{"line":29,"column":16}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":29,"column":17}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":27,"column":49},"generated":{"line":29,"column":33}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":27,"column":49},"generated":{"line":29,"column":35}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":30,"column":4}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":11},"generated":{"line":30,"column":11}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":15},"generated":{"line":30,"column":15}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":30,"column":16}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":19},"generated":{"line":30,"column":19}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":19},"generated":{"line":30,"column":20}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":21},"generated":{"line":30,"column":21}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":24},"generated":{"line":30,"column":24}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":40},"generated":{"line":30,"column":40}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":43},"generated":{"line":30,"column":43}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":28,"column":47},"generated":{"line":30,"column":47}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":29,"column":2},"generated":{"line":31,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":33,"column":0}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":33,"column":7}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":33,"column":8}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":33,"column":26}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":33,"column":29}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":33,"column":47}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":32,"column":0},"generated":{"line":34,"column":0}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":37,"column":0}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":22},"generated":{"line":37,"column":6}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":27},"generated":{"line":37,"column":11}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":27},"generated":{"line":37,"column":12}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":38,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":41,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":41,"column":13}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":41,"column":14}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":41,"column":16}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":42,"column":4}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":42,"column":8}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":42,"column":9}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":42,"column":16}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":42,"column":19},"generated":{"line":42,"column":19}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":42,"column":23},"generated":{"line":42,"column":23}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":42,"column":26}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":42,"column":26},"generated":{"line":42,"column":27}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":42,"column":39},"generated":{"line":42,"column":28}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":43,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":44,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":47,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":48,"column":7},"generated":{"line":47,"column":7}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":48,"column":7},"generated":{"line":47,"column":8}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":48,"column":7},"generated":{"line":47,"column":10}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":48,"column":4}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":48,"column":8}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":49,"column":9},"generated":{"line":48,"column":9}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":49,"column":16},"generated":{"line":48,"column":16}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":49,"column":17},"generated":{"line":48,"column":17}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":49,"column":22},"generated":{"line":48,"column":22}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":49,"column":22},"generated":{"line":48,"column":23}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":48,"column":24}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":49,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":50,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":53,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":60,"column":16},"generated":{"line":53,"column":16}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":60,"column":17},"generated":{"line":53,"column":17}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":60,"column":32},"generated":{"line":53,"column":24}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":60,"column":34},"generated":{"line":53,"column":26}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":60,"column":50},"generated":{"line":53,"column":34}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":60,"column":52},"generated":{"line":53,"column":36}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":60,"column":72},"generated":{"line":53,"column":48}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":60,"column":72},"generated":{"line":53,"column":50}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":4},"generated":{"line":54,"column":4}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":11},"generated":{"line":54,"column":11}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":15},"generated":{"line":54,"column":15}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":54,"column":16}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":25},"generated":{"line":54,"column":25}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":26},"generated":{"line":54,"column":26}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":27},"generated":{"line":54,"column":27}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":34},"generated":{"line":54,"column":34}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":36},"generated":{"line":54,"column":36}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":44},"generated":{"line":54,"column":44}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":46},"generated":{"line":54,"column":46}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":58},"generated":{"line":54,"column":58}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":59},"generated":{"line":54,"column":59}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":61,"column":60},"generated":{"line":54,"column":60}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":55,"column":2}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":57,"column":0}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":57,"column":7}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":57,"column":8}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":57,"column":13}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":57,"column":16}},{"source":"../../../../src/cmap/auth/mongodb_oidc/cache.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":57,"column":21}}],"sources":{"../../../../src/cmap/auth/mongodb_oidc/cache.ts":"/* 5 minutes in milliseconds */\nconst EXPIRATION_BUFFER_MS = 300000;\n\n/**\n * An entry in a cache that can expire in a certain amount of time.\n */\nexport abstract class ExpiringCacheEntry {\n  expiration: number;\n\n  /**\n   * Create a new expiring token entry.\n   */\n  constructor(expiration: number) {\n    this.expiration = this.expirationTime(expiration);\n  }\n  /**\n   * The entry is still valid if the expiration is more than\n   * 5 minutes from the expiration time.\n   */\n  isValid() {\n    return this.expiration - Date.now() > EXPIRATION_BUFFER_MS;\n  }\n\n  /**\n   * Get an expiration time in milliseconds past epoch.\n   */\n  private expirationTime(expiresInSeconds: number): number {\n    return Date.now() + expiresInSeconds * 1000;\n  }\n}\n\n/**\n * Base class for OIDC caches.\n */\nexport abstract class Cache<T> {\n  entries: Map<string, T>;\n\n  /**\n   * Create a new cache.\n   */\n  constructor() {\n    this.entries = new Map<string, T>();\n  }\n\n  /**\n   * Clear the cache.\n   */\n  clear() {\n    this.entries.clear();\n  }\n\n  /**\n   * Implement the cache key for the token.\n   */\n  abstract cacheKey(address: string, username: string, callbackHash: string): string;\n\n  /**\n   * Create a cache key from the address and username.\n   */\n  hashedCacheKey(address: string, username: string, callbackHash: string): string {\n    return JSON.stringify([address, username, callbackHash]);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"33480a66a8f21062c6663e23dd1bbb96","cacheData":{"env":{}}}