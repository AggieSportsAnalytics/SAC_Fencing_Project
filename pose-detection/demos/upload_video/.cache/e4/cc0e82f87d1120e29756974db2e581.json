{"id":"node_modules/@tensorflow-models/pose-detection/movenet/detector_utils.js","dependencies":[{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/movenet/detector_utils.js.map","includedInParent":true,"mtime":1701727604736},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/package.json","includedInParent":true,"mtime":1705185626996},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/.babelrc","includedInParent":true,"mtime":1701727604305},{"name":"../calculators/types","loc":{"line":31,"column":22,"index":1336},"parent":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/movenet/detector_utils.js","resolved":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/calculators/types.js"},{"name":"./constants","loc":{"line":32,"column":26,"index":1387},"parent":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/movenet/detector_utils.js","resolved":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/@tensorflow-models/pose-detection/movenet/constants.js"}],"generated":{"js":"\"use strict\";\n/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeBoundingBoxTrackerConfig = exports.mergeKeypointTrackerConfig = exports.validateEstimationConfig = exports.validateModelConfig = void 0;\nvar types_1 = require(\"../calculators/types\");\nvar constants_1 = require(\"./constants\");\nfunction validateModelConfig(modelConfig) {\n    var config = modelConfig == null ? constants_1.MOVENET_CONFIG : __assign({}, modelConfig);\n    if (config.modelType == null) {\n        config.modelType = 'SinglePose.Lightning';\n    }\n    else if (constants_1.VALID_MODELS.indexOf(config.modelType) < 0) {\n        throw new Error(\"Invalid architecture \".concat(config.modelType, \". \") +\n            \"Should be one of \".concat(constants_1.VALID_MODELS));\n    }\n    if (config.enableSmoothing == null) {\n        config.enableSmoothing = true;\n    }\n    if (config.minPoseScore != null &&\n        (config.minPoseScore < 0.0 || config.minPoseScore > 1.0)) {\n        throw new Error(\"minPoseScore should be between 0.0 and 1.0\");\n    }\n    if (config.multiPoseMaxDimension != null &&\n        (config.multiPoseMaxDimension % 32 !== 0 ||\n            config.multiPoseMaxDimension < 32)) {\n        throw new Error(\"multiPoseMaxDimension must be a multiple of 32 and higher than 0\");\n    }\n    if (config.modelType === constants_1.MULTIPOSE_LIGHTNING &&\n        config.enableTracking == null) {\n        config.enableTracking = true;\n    }\n    if (config.modelType === constants_1.MULTIPOSE_LIGHTNING &&\n        config.enableTracking === true) {\n        if (config.trackerType == null) {\n            config.trackerType = types_1.TrackerType.BoundingBox;\n        }\n        if (config.trackerType === types_1.TrackerType.Keypoint) {\n            if (config.trackerConfig != null) {\n                config.trackerConfig = mergeKeypointTrackerConfig(config.trackerConfig);\n            }\n            else {\n                config.trackerConfig = constants_1.DEFAULT_KEYPOINT_TRACKER_CONFIG;\n            }\n        }\n        else if (config.trackerType === types_1.TrackerType.BoundingBox) {\n            if (config.trackerConfig != null) {\n                config.trackerConfig =\n                    mergeBoundingBoxTrackerConfig(config.trackerConfig);\n            }\n            else {\n                config.trackerConfig = constants_1.DEFAULT_BOUNDING_BOX_TRACKER_CONFIG;\n            }\n        }\n        else {\n            throw new Error('Tracker type not supported by MoveNet');\n        }\n        // We don't need to validate the trackerConfig here because the tracker will\n        // take care of that.\n    }\n    return config;\n}\nexports.validateModelConfig = validateModelConfig;\nfunction validateEstimationConfig(estimationConfig) {\n    var config = estimationConfig == null ? constants_1.MOVENET_ESTIMATION_CONFIG : __assign({}, estimationConfig);\n    return config;\n}\nexports.validateEstimationConfig = validateEstimationConfig;\nfunction mergeBaseTrackerConfig(defaultConfig, userConfig) {\n    var mergedConfig = {\n        maxTracks: defaultConfig.maxTracks,\n        maxAge: defaultConfig.maxAge,\n        minSimilarity: defaultConfig.minSimilarity,\n    };\n    if (userConfig.maxTracks != null) {\n        mergedConfig.maxTracks = userConfig.maxTracks;\n    }\n    if (userConfig.maxAge != null) {\n        mergedConfig.maxAge = userConfig.maxAge;\n    }\n    if (userConfig.minSimilarity != null) {\n        mergedConfig.minSimilarity = userConfig.minSimilarity;\n    }\n    return mergedConfig;\n}\nfunction mergeKeypointTrackerConfig(userConfig) {\n    var mergedConfig = mergeBaseTrackerConfig(constants_1.DEFAULT_KEYPOINT_TRACKER_CONFIG, userConfig);\n    mergedConfig.keypointTrackerParams = __assign({}, constants_1.DEFAULT_KEYPOINT_TRACKER_CONFIG.keypointTrackerParams);\n    if (userConfig.keypointTrackerParams != null) {\n        if (userConfig.keypointTrackerParams.keypointConfidenceThreshold != null) {\n            mergedConfig.keypointTrackerParams.keypointConfidenceThreshold =\n                userConfig.keypointTrackerParams.keypointConfidenceThreshold;\n        }\n        if (userConfig.keypointTrackerParams.keypointFalloff != null) {\n            mergedConfig.keypointTrackerParams.keypointFalloff =\n                userConfig.keypointTrackerParams.keypointFalloff;\n        }\n        if (userConfig.keypointTrackerParams.minNumberOfKeypoints != null) {\n            mergedConfig.keypointTrackerParams.minNumberOfKeypoints =\n                userConfig.keypointTrackerParams.minNumberOfKeypoints;\n        }\n    }\n    return mergedConfig;\n}\nexports.mergeKeypointTrackerConfig = mergeKeypointTrackerConfig;\nfunction mergeBoundingBoxTrackerConfig(userConfig) {\n    var mergedConfig = mergeBaseTrackerConfig(constants_1.DEFAULT_BOUNDING_BOX_TRACKER_CONFIG, userConfig);\n    return mergedConfig;\n}\nexports.mergeBoundingBoxTrackerConfig = mergeBoundingBoxTrackerConfig;\n"},"sourceMaps":{"js":{"version":3,"file":"detector_utils.js","sourceRoot":"","sources":["../../src/movenet/detector_utils.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"cad756c3a43a20e958463cfbb297316f","cacheData":{"env":{}}}