{"id":"node_modules/mongodb/lib/client-side-encryption/providers/index.js","dependencies":[{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/client-side-encryption/providers/index.js.map","includedInParent":true,"mtime":1703711713169},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/src/client-side-encryption/providers/index.ts","includedInParent":true,"mtime":1703711713395},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/package.json","includedInParent":true,"mtime":1705185626996},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/.babelrc","includedInParent":true,"mtime":1701727604305},{"name":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/package.json","includedInParent":true,"mtime":1703711713027},{"name":"./aws","loc":{"line":4,"column":22,"index":168},"parent":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/client-side-encryption/providers/index.js","resolved":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/client-side-encryption/providers/aws.js"},{"name":"./azure","loc":{"line":5,"column":24,"index":202},"parent":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/client-side-encryption/providers/index.js","resolved":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/client-side-encryption/providers/azure.js"},{"name":"./gcp","loc":{"line":6,"column":22,"index":236},"parent":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/client-side-encryption/providers/index.js","resolved":"/Users/vpenumarti/Desktop/CS/SAC_Fencing_Project/pose-detection/demos/upload_video/node_modules/mongodb/lib/client-side-encryption/providers/gcp.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.refreshKMSCredentials = exports.isEmptyCredentials = void 0;\nconst aws_1 = require(\"./aws\");\nconst azure_1 = require(\"./azure\");\nconst gcp_1 = require(\"./gcp\");\n/**\n * Auto credential fetching should only occur when the provider is defined on the kmsProviders map\n * and the settings are an empty object.\n *\n * This is distinct from a nullish provider key.\n *\n * @internal - exposed for testing purposes only\n */\nfunction isEmptyCredentials(providerName, kmsProviders) {\n  const provider = kmsProviders[providerName];\n  if (provider == null) {\n    return false;\n  }\n  return typeof provider === 'object' && Object.keys(provider).length === 0;\n}\nexports.isEmptyCredentials = isEmptyCredentials;\n/**\n * Load cloud provider credentials for the user provided KMS providers.\n * Credentials will only attempt to get loaded if they do not exist\n * and no existing credentials will get overwritten.\n *\n * @internal\n */\nasync function refreshKMSCredentials(kmsProviders) {\n  let finalKMSProviders = kmsProviders;\n  if (isEmptyCredentials('aws', kmsProviders)) {\n    finalKMSProviders = await (0, aws_1.loadAWSCredentials)(finalKMSProviders);\n  }\n  if (isEmptyCredentials('gcp', kmsProviders)) {\n    finalKMSProviders = await (0, gcp_1.loadGCPCredentials)(finalKMSProviders);\n  }\n  if (isEmptyCredentials('azure', kmsProviders)) {\n    finalKMSProviders = await (0, azure_1.loadAzureCredentials)(finalKMSProviders);\n  }\n  return finalKMSProviders;\n}\nexports.refreshKMSCredentials = refreshKMSCredentials;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":6}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":11}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":14}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":21}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":22}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":29}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":7,"column":30}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":6}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":13}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":16}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":23}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":24}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":33}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":8,"column":34}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":6}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":11}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":14}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":21}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":22}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":29}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":9,"column":30}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":127,"column":0},"generated":{"line":10,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":135,"column":0},"generated":{"line":18,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":135,"column":16},"generated":{"line":18,"column":9}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":135,"column":34},"generated":{"line":18,"column":27}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":136,"column":2},"generated":{"line":18,"column":28}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":136,"column":47},"generated":{"line":18,"column":40}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":137,"column":2},"generated":{"line":18,"column":42}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":137,"column":28},"generated":{"line":18,"column":54}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":137,"column":28},"generated":{"line":18,"column":56}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":139,"column":2},"generated":{"line":19,"column":2}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":139,"column":8},"generated":{"line":19,"column":8}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":139,"column":16},"generated":{"line":19,"column":16}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":139,"column":19},"generated":{"line":19,"column":19}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":139,"column":31},"generated":{"line":19,"column":31}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":139,"column":32},"generated":{"line":19,"column":32}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":139,"column":44},"generated":{"line":19,"column":44}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":139,"column":45},"generated":{"line":19,"column":45}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":140,"column":2},"generated":{"line":20,"column":2}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":140,"column":6},"generated":{"line":20,"column":6}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":140,"column":14},"generated":{"line":20,"column":14}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":140,"column":18},"generated":{"line":20,"column":18}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":140,"column":22},"generated":{"line":20,"column":22}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":140,"column":24},"generated":{"line":20,"column":24}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":141,"column":4},"generated":{"line":21,"column":4}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":141,"column":11},"generated":{"line":21,"column":11}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":141,"column":16},"generated":{"line":21,"column":16}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":2},"generated":{"line":23,"column":2}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":9},"generated":{"line":23,"column":9}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":16},"generated":{"line":23,"column":16}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":24},"generated":{"line":23,"column":24}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":29},"generated":{"line":23,"column":29}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":37},"generated":{"line":23,"column":37}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":41},"generated":{"line":23,"column":41}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":47},"generated":{"line":23,"column":47}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":48},"generated":{"line":23,"column":48}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":52},"generated":{"line":23,"column":52}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":53},"generated":{"line":23,"column":53}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":61},"generated":{"line":23,"column":61}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":62},"generated":{"line":23,"column":62}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":63},"generated":{"line":23,"column":63}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":69},"generated":{"line":23,"column":69}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":74},"generated":{"line":23,"column":74}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":143,"column":75},"generated":{"line":23,"column":75}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":144,"column":0},"generated":{"line":24,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":135,"column":0},"generated":{"line":25,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":135,"column":0},"generated":{"line":25,"column":7}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":135,"column":0},"generated":{"line":25,"column":8}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":135,"column":0},"generated":{"line":25,"column":26}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":135,"column":0},"generated":{"line":25,"column":29}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":135,"column":0},"generated":{"line":25,"column":47}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":146,"column":0},"generated":{"line":26,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":7},"generated":{"line":33,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":22},"generated":{"line":33,"column":15}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":43},"generated":{"line":33,"column":36}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":44},"generated":{"line":33,"column":37}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":70},"generated":{"line":33,"column":49}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":70},"generated":{"line":33,"column":51}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":34,"column":2}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":154,"column":6},"generated":{"line":34,"column":6}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":154,"column":23},"generated":{"line":34,"column":23}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":154,"column":26},"generated":{"line":34,"column":26}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":154,"column":38},"generated":{"line":34,"column":38}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":156,"column":2},"generated":{"line":35,"column":2}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":156,"column":6},"generated":{"line":35,"column":6}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":156,"column":24},"generated":{"line":35,"column":24}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":156,"column":25},"generated":{"line":35,"column":25}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":156,"column":30},"generated":{"line":35,"column":30}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":156,"column":32},"generated":{"line":35,"column":32}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":156,"column":44},"generated":{"line":35,"column":44}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":156,"column":45},"generated":{"line":35,"column":45}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":156,"column":47},"generated":{"line":35,"column":47}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":4},"generated":{"line":36,"column":4}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":21},"generated":{"line":36,"column":21}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":24},"generated":{"line":36,"column":24}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":30},"generated":{"line":36,"column":30}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":30},"generated":{"line":36,"column":31}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":30},"generated":{"line":36,"column":32}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":30},"generated":{"line":36,"column":34}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":30},"generated":{"line":36,"column":39}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":30},"generated":{"line":36,"column":40}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":48},"generated":{"line":36,"column":58}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":49},"generated":{"line":36,"column":60}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":66},"generated":{"line":36,"column":77}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":157,"column":67},"generated":{"line":36,"column":78}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":160,"column":2},"generated":{"line":38,"column":2}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":160,"column":6},"generated":{"line":38,"column":6}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":160,"column":24},"generated":{"line":38,"column":24}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":160,"column":25},"generated":{"line":38,"column":25}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":160,"column":30},"generated":{"line":38,"column":30}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":160,"column":32},"generated":{"line":38,"column":32}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":160,"column":44},"generated":{"line":38,"column":44}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":160,"column":45},"generated":{"line":38,"column":45}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":160,"column":47},"generated":{"line":38,"column":47}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":4},"generated":{"line":39,"column":4}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":21},"generated":{"line":39,"column":21}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":24},"generated":{"line":39,"column":24}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":30},"generated":{"line":39,"column":30}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":30},"generated":{"line":39,"column":31}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":30},"generated":{"line":39,"column":32}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":30},"generated":{"line":39,"column":34}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":30},"generated":{"line":39,"column":39}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":30},"generated":{"line":39,"column":40}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":48},"generated":{"line":39,"column":58}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":49},"generated":{"line":39,"column":60}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":66},"generated":{"line":39,"column":77}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":161,"column":67},"generated":{"line":39,"column":78}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":164,"column":2},"generated":{"line":41,"column":2}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":164,"column":6},"generated":{"line":41,"column":6}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":164,"column":24},"generated":{"line":41,"column":24}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":164,"column":25},"generated":{"line":41,"column":25}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":164,"column":32},"generated":{"line":41,"column":32}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":164,"column":34},"generated":{"line":41,"column":34}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":164,"column":46},"generated":{"line":41,"column":46}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":164,"column":47},"generated":{"line":41,"column":47}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":164,"column":49},"generated":{"line":41,"column":49}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":4},"generated":{"line":42,"column":4}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":21},"generated":{"line":42,"column":21}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":24},"generated":{"line":42,"column":24}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":30},"generated":{"line":42,"column":30}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":30},"generated":{"line":42,"column":31}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":30},"generated":{"line":42,"column":32}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":30},"generated":{"line":42,"column":34}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":30},"generated":{"line":42,"column":41}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":30},"generated":{"line":42,"column":42}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":50},"generated":{"line":42,"column":62}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":51},"generated":{"line":42,"column":64}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":68},"generated":{"line":42,"column":81}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":165,"column":69},"generated":{"line":42,"column":82}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":167,"column":2},"generated":{"line":44,"column":2}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":167,"column":9},"generated":{"line":44,"column":9}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":167,"column":26},"generated":{"line":44,"column":26}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":168,"column":0},"generated":{"line":45,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":46,"column":0}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":46,"column":7}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":46,"column":8}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":46,"column":29}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":46,"column":32}},{"source":"../../../src/client-side-encryption/providers/index.ts","name":null,"original":{"line":153,"column":0},"generated":{"line":46,"column":53}}],"sources":{"../../../src/client-side-encryption/providers/index.ts":"import { loadAWSCredentials } from './aws';\nimport { loadAzureCredentials } from './azure';\nimport { loadGCPCredentials } from './gcp';\n\n/**\n * @public\n */\nexport type ClientEncryptionDataKeyProvider = 'aws' | 'azure' | 'gcp' | 'local' | 'kmip';\n\n/**\n * @public\n * Configuration options that are used by specific KMS providers during key generation, encryption, and decryption.\n */\nexport interface KMSProviders {\n  /**\n   * Configuration options for using 'aws' as your KMS provider\n   */\n  aws?:\n    | {\n        /**\n         * The access key used for the AWS KMS provider\n         */\n        accessKeyId: string;\n\n        /**\n         * The secret access key used for the AWS KMS provider\n         */\n        secretAccessKey: string;\n\n        /**\n         * An optional AWS session token that will be used as the\n         * X-Amz-Security-Token header for AWS requests.\n         */\n        sessionToken?: string;\n      }\n    | Record<string, never>;\n\n  /**\n   * Configuration options for using 'local' as your KMS provider\n   */\n  local?: {\n    /**\n     * The master key used to encrypt/decrypt data keys.\n     * A 96-byte long Buffer or base64 encoded string.\n     */\n    key: Buffer | string;\n  };\n\n  /**\n   * Configuration options for using 'kmip' as your KMS provider\n   */\n  kmip?: {\n    /**\n     * The output endpoint string.\n     * The endpoint consists of a hostname and port separated by a colon.\n     * E.g. \"example.com:123\". A port is always present.\n     */\n    endpoint?: string;\n  };\n\n  /**\n   * Configuration options for using 'azure' as your KMS provider\n   */\n  azure?:\n    | {\n        /**\n         * The tenant ID identifies the organization for the account\n         */\n        tenantId: string;\n\n        /**\n         * The client ID to authenticate a registered application\n         */\n        clientId: string;\n\n        /**\n         * The client secret to authenticate a registered application\n         */\n        clientSecret: string;\n\n        /**\n         * If present, a host with optional port. E.g. \"example.com\" or \"example.com:443\".\n         * This is optional, and only needed if customer is using a non-commercial Azure instance\n         * (e.g. a government or China account, which use different URLs).\n         * Defaults to \"login.microsoftonline.com\"\n         */\n        identityPlatformEndpoint?: string | undefined;\n      }\n    | {\n        /**\n         * If present, an access token to authenticate with Azure.\n         */\n        accessToken: string;\n      }\n    | Record<string, never>;\n\n  /**\n   * Configuration options for using 'gcp' as your KMS provider\n   */\n  gcp?:\n    | {\n        /**\n         * The service account email to authenticate\n         */\n        email: string;\n\n        /**\n         * A PKCS#8 encrypted key. This can either be a base64 string or a binary representation\n         */\n        privateKey: string | Buffer;\n\n        /**\n         * If present, a host with optional port. E.g. \"example.com\" or \"example.com:443\".\n         * Defaults to \"oauth2.googleapis.com\"\n         */\n        endpoint?: string | undefined;\n      }\n    | {\n        /**\n         * If present, an access token to authenticate with GCP.\n         */\n        accessToken: string;\n      }\n    | Record<string, never>;\n}\n\n/**\n * Auto credential fetching should only occur when the provider is defined on the kmsProviders map\n * and the settings are an empty object.\n *\n * This is distinct from a nullish provider key.\n *\n * @internal - exposed for testing purposes only\n */\nexport function isEmptyCredentials(\n  providerName: ClientEncryptionDataKeyProvider,\n  kmsProviders: KMSProviders\n): boolean {\n  const provider = kmsProviders[providerName];\n  if (provider == null) {\n    return false;\n  }\n  return typeof provider === 'object' && Object.keys(provider).length === 0;\n}\n\n/**\n * Load cloud provider credentials for the user provided KMS providers.\n * Credentials will only attempt to get loaded if they do not exist\n * and no existing credentials will get overwritten.\n *\n * @internal\n */\nexport async function refreshKMSCredentials(kmsProviders: KMSProviders): Promise<KMSProviders> {\n  let finalKMSProviders = kmsProviders;\n\n  if (isEmptyCredentials('aws', kmsProviders)) {\n    finalKMSProviders = await loadAWSCredentials(finalKMSProviders);\n  }\n\n  if (isEmptyCredentials('gcp', kmsProviders)) {\n    finalKMSProviders = await loadGCPCredentials(finalKMSProviders);\n  }\n\n  if (isEmptyCredentials('azure', kmsProviders)) {\n    finalKMSProviders = await loadAzureCredentials(finalKMSProviders);\n  }\n  return finalKMSProviders;\n}\n"},"lineCount":null}},"error":null,"hash":"fc0b85447e82cd2a3d404cb03297f568","cacheData":{"env":{}}}