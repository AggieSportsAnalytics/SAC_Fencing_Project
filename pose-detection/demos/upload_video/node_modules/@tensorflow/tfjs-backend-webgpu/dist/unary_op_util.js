/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
import { backend_util } from '@tensorflow/tfjs-core';
export var UnaryOpType;
(function (UnaryOpType) {
    UnaryOpType[UnaryOpType["ABS"] = 0] = "ABS";
    UnaryOpType[UnaryOpType["ACOS"] = 1] = "ACOS";
    UnaryOpType[UnaryOpType["ACOSH"] = 2] = "ACOSH";
    UnaryOpType[UnaryOpType["ASIN"] = 3] = "ASIN";
    UnaryOpType[UnaryOpType["ASINH"] = 4] = "ASINH";
    UnaryOpType[UnaryOpType["ATAN"] = 5] = "ATAN";
    UnaryOpType[UnaryOpType["ATANH"] = 6] = "ATANH";
    UnaryOpType[UnaryOpType["CEIL"] = 7] = "CEIL";
    UnaryOpType[UnaryOpType["COS"] = 8] = "COS";
    UnaryOpType[UnaryOpType["COSH"] = 9] = "COSH";
    UnaryOpType[UnaryOpType["ELU"] = 10] = "ELU";
    UnaryOpType[UnaryOpType["ERF"] = 11] = "ERF";
    UnaryOpType[UnaryOpType["EXP"] = 12] = "EXP";
    UnaryOpType[UnaryOpType["EXPM1"] = 13] = "EXPM1";
    UnaryOpType[UnaryOpType["FLOOR"] = 14] = "FLOOR";
    UnaryOpType[UnaryOpType["IS_FINITE"] = 15] = "IS_FINITE";
    UnaryOpType[UnaryOpType["IS_INF"] = 16] = "IS_INF";
    UnaryOpType[UnaryOpType["IS_NAN"] = 17] = "IS_NAN";
    UnaryOpType[UnaryOpType["LINEAR"] = 18] = "LINEAR";
    UnaryOpType[UnaryOpType["LOG"] = 19] = "LOG";
    UnaryOpType[UnaryOpType["LOG1P"] = 20] = "LOG1P";
    UnaryOpType[UnaryOpType["LOGICAL_NOT"] = 21] = "LOGICAL_NOT";
    UnaryOpType[UnaryOpType["NEG"] = 22] = "NEG";
    UnaryOpType[UnaryOpType["RELU"] = 23] = "RELU";
    UnaryOpType[UnaryOpType["RELU6"] = 24] = "RELU6";
    UnaryOpType[UnaryOpType["LEAKYRELU"] = 25] = "LEAKYRELU";
    UnaryOpType[UnaryOpType["RECIPROCAL"] = 26] = "RECIPROCAL";
    UnaryOpType[UnaryOpType["ROUND"] = 27] = "ROUND";
    UnaryOpType[UnaryOpType["RSQRT"] = 28] = "RSQRT";
    UnaryOpType[UnaryOpType["SELU"] = 29] = "SELU";
    UnaryOpType[UnaryOpType["SIGMOID"] = 30] = "SIGMOID";
    UnaryOpType[UnaryOpType["SIGN"] = 31] = "SIGN";
    UnaryOpType[UnaryOpType["SIN"] = 32] = "SIN";
    UnaryOpType[UnaryOpType["SINH"] = 33] = "SINH";
    UnaryOpType[UnaryOpType["SOFTPLUS"] = 34] = "SOFTPLUS";
    UnaryOpType[UnaryOpType["SQRT"] = 35] = "SQRT";
    UnaryOpType[UnaryOpType["SQUARE"] = 36] = "SQUARE";
    UnaryOpType[UnaryOpType["STEP"] = 37] = "STEP";
    UnaryOpType[UnaryOpType["TAN"] = 38] = "TAN";
    UnaryOpType[UnaryOpType["TANH"] = 39] = "TANH";
    UnaryOpType[UnaryOpType["TO_INT"] = 40] = "TO_INT";
})(UnaryOpType || (UnaryOpType = {}));
const ABS = `return abs(a);`;
const ACOS = `
  if (abs(a) > 1.) {
    return uniforms.NAN;
  }
  return acos(a);
`;
const ACOSH = `
  if (a < 1.) {
    return uniforms.NAN;
  }
  return acosh(a);
`;
const ASIN = `
  if (abs(a) > 1.) {
    return uniforms.NAN;
  }
  return asin(a);
`;
const ASINH = `return asinh(a);`;
const ATAN = `
  if (isnan(a)) {
    return uniforms.NAN;
  }
  return atan(a);
`;
const ATANH = `
  if (abs(a) > 1.) {
    return uniforms.NAN;
  }
  if (a == 1.) {
    return uniforms.INFINITY;
  }
  if (a == -1.) {
    return -uniforms.INFINITY;
  }
  return atanh(a);
`;
const CEIL = `return ceil(a);`;
const COS = `return cos(a);`;
const COSH = `
  let e2x = exp(-a);
  return (e2x + 1.0 / e2x) / 2.0;
`;
const EXPM1 = `return exp(a) - 1.0;`;
const ELU = `if (a >= 0.0) { return a; }  return (exp(a) - 1.0);`;
const ELU_VEC4 = `
  var resFloat = exp(a) - vec4<f32>(1.0);
  if (a.r >= 0.0) {
    resFloat.r = a.r;
  }
  if (a.g >= 0.0) {
    resFloat.g = a.g;
  }
  if (a.b >= 0.0) {
    resFloat.b = a.b;
  }
  if (a.a >= 0.0) {
    resFloat.a = a.a;
  }
  return resFloat;
`;
const ERF = `
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  let p = ${backend_util.ERF_P};
  let a1 = ${backend_util.ERF_A1};
  let a2 = ${backend_util.ERF_A2};
  let a3 = ${backend_util.ERF_A3};
  let a4 = ${backend_util.ERF_A4};
  let a5 = ${backend_util.ERF_A5};

  let sign = sign(a);
  let absA = abs(a);
  let t = 1.0 / (1.0 + p * absA);
  return sign * (1.0 - (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t * exp(-absA * absA));
`;
const EXP = `return exp(a);`;
const FLOOR = `return floor(a);`;
const IS_FINITE = `return f32(!isnan(a) && !isinf(a));`;
const IS_INF = `return f32(isinf(a));`;
const IS_NAN = `return f32(isnan(a));`;
const LINEAR = `return a;`;
const LOG = `if (a < 0.0) { return uniforms.NAN; }
  return log(a);`;
const LOG1P = `
  if (isnan(a)) { return a; }
  return log(1.0 + a);
`;
const LOGICAL_NOT = `return f32(!(a >= 1.0));`;
const NEG = `return -a;`;
const LEAKYRELU = `if (a < 0.0) { return uniforms.alpha * a; } return a;`;
const LEAKYRELU_VEC4 = `
  let aLessThanZero = vec4<f32>(a < vec4<f32>(0.0));
  return (aLessThanZero * (uniforms.alpha * a)) + ((vec4<f32>(1.0) - aLessThanZero) * a);
`;
const RECIPROCAL = `return 1.0 / a;`;
const RELU = `return select(a, 0.0, a < 0.0);`;
const RELU6 = 'return clamp(a, 0.0, 6.0);';
const RELU6_VEC4 = 'return clamp(a, vec4<f32>(0.0, 0.0, 0.0, 0.0), vec4<f32>(6.0, 6.0, 6.0, 6.0));';
const RELU_VEC4 = `
  return select(a, vec4<f32>(0.0), a < vec4<f32>(0.0));
`;
const ROUND = `return round(a);`;
const RSQRT = `return inverseSqrt(a);`;
// Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
// See: https://arxiv.org/abs/1706.02515
const SELU = `
  if (a >= 0.0) {
    return ${backend_util.SELU_SCALE} * a;
  } else {
    return ${backend_util.SELU_SCALEALPHA} * (exp(a) - 1.0);
  }
`;
const SIGMOID = `return 1.0 / (1.0 + exp(-1.0 * a));`;
const SIGN = `return sign(a);`;
const SIN = `return sin(a);`;
const SINH = `
  let e2x = exp(a);
  return (e2x - 1.0 / e2x) / 2.0;
`;
const SOFTPLUS = `
  let epsilon = 1.1920928955078125e-7;
  let threshold = log(epsilon) + 2.0;

  let too_large = a > -threshold;
  let too_small = a < threshold;
  let exp_a = exp(a);

  if (too_large) {
    return a;
  } else if (too_small) {
    return exp_a;
  } else {
    return log(exp_a + 1.0);
  }
`;
const SQRT = `return sqrt(a);`;
const SQUARE = `return a * a;`;
const STEP = `
  if (isnan(a)) {
    return a;
  }

  return select(uniforms.stepAlpha, 1.0, a > 0.0);
`;
const TAN = `return tan(a);`;
const TANH = `
  let e2x = exp(-2.0 * abs(a));
  return sign(a) * (1.0 - e2x) / (1.0 + e2x);
`;
const TO_INT = `return f32(i32((a)));`;
export function getUnaryOpString(type, useVec4) {
    switch (type) {
        case UnaryOpType.ABS:
            return ABS;
        case UnaryOpType.ACOS:
            return ACOS;
        case UnaryOpType.ACOSH:
            return ACOSH;
        case UnaryOpType.ASIN:
            return ASIN;
        case UnaryOpType.ASINH:
            return ASINH;
        case UnaryOpType.ATAN:
            return ATAN;
        case UnaryOpType.ATANH:
            return ATANH;
        case UnaryOpType.COS:
            return COS;
        case UnaryOpType.COSH:
            return COSH;
        case UnaryOpType.CEIL:
            return CEIL;
        case UnaryOpType.ELU:
            return useVec4 ? ELU_VEC4 : ELU;
        case UnaryOpType.ERF:
            return ERF;
        case UnaryOpType.EXP:
            return EXP;
        case UnaryOpType.EXPM1:
            return EXPM1;
        case UnaryOpType.FLOOR:
            return FLOOR;
        case UnaryOpType.IS_FINITE:
            return IS_FINITE;
        case UnaryOpType.IS_INF:
            return IS_INF;
        case UnaryOpType.IS_NAN:
            return IS_NAN;
        case UnaryOpType.LINEAR:
            return LINEAR;
        case UnaryOpType.LOG:
            return LOG;
        case UnaryOpType.LOG1P:
            return LOG1P;
        case UnaryOpType.LOGICAL_NOT:
            return LOGICAL_NOT;
        case UnaryOpType.NEG:
            return NEG;
        case UnaryOpType.LEAKYRELU:
            return useVec4 ? LEAKYRELU_VEC4 : LEAKYRELU;
        case UnaryOpType.RECIPROCAL:
            return RECIPROCAL;
        case UnaryOpType.RELU:
            return useVec4 ? RELU_VEC4 : RELU;
        case UnaryOpType.RELU6:
            return useVec4 ? RELU6_VEC4 : RELU6;
        case UnaryOpType.ROUND:
            return ROUND;
        case UnaryOpType.RSQRT:
            return RSQRT;
        case UnaryOpType.SELU:
            return SELU;
        case UnaryOpType.SIGMOID:
            return SIGMOID;
        case UnaryOpType.SIGN:
            return SIGN;
        case UnaryOpType.SIN:
            return SIN;
        case UnaryOpType.SINH:
            return SINH;
        case UnaryOpType.SOFTPLUS:
            return SOFTPLUS;
        case UnaryOpType.SQRT:
            return SQRT;
        case UnaryOpType.SQUARE:
            return SQUARE;
        case UnaryOpType.STEP:
            return STEP;
        case UnaryOpType.TAN:
            return TAN;
        case UnaryOpType.TANH:
            return TANH;
        case UnaryOpType.TO_INT:
            return TO_INT;
        default:
            throw new Error(`BinaryType ${type} is not implemented!`);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5hcnlfb3BfdXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3RmanMtYmFja2VuZC13ZWJncHUvc3JjL3VuYXJ5X29wX3V0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztHQWVHO0FBRUgsT0FBTyxFQUFDLFlBQVksRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBRW5ELE1BQU0sQ0FBTixJQUFZLFdBMENYO0FBMUNELFdBQVksV0FBVztJQUNyQiwyQ0FBRyxDQUFBO0lBQ0gsNkNBQUksQ0FBQTtJQUNKLCtDQUFLLENBQUE7SUFDTCw2Q0FBSSxDQUFBO0lBQ0osK0NBQUssQ0FBQTtJQUNMLDZDQUFJLENBQUE7SUFDSiwrQ0FBSyxDQUFBO0lBQ0wsNkNBQUksQ0FBQTtJQUNKLDJDQUFHLENBQUE7SUFDSCw2Q0FBSSxDQUFBO0lBQ0osNENBQUcsQ0FBQTtJQUNILDRDQUFHLENBQUE7SUFDSCw0Q0FBRyxDQUFBO0lBQ0gsZ0RBQUssQ0FBQTtJQUNMLGdEQUFLLENBQUE7SUFDTCx3REFBUyxDQUFBO0lBQ1Qsa0RBQU0sQ0FBQTtJQUNOLGtEQUFNLENBQUE7SUFDTixrREFBTSxDQUFBO0lBQ04sNENBQUcsQ0FBQTtJQUNILGdEQUFLLENBQUE7SUFDTCw0REFBVyxDQUFBO0lBQ1gsNENBQUcsQ0FBQTtJQUNILDhDQUFJLENBQUE7SUFDSixnREFBSyxDQUFBO0lBQ0wsd0RBQVMsQ0FBQTtJQUNULDBEQUFVLENBQUE7SUFDVixnREFBSyxDQUFBO0lBQ0wsZ0RBQUssQ0FBQTtJQUNMLDhDQUFJLENBQUE7SUFDSixvREFBTyxDQUFBO0lBQ1AsOENBQUksQ0FBQTtJQUNKLDRDQUFHLENBQUE7SUFDSCw4Q0FBSSxDQUFBO0lBQ0osc0RBQVEsQ0FBQTtJQUNSLDhDQUFJLENBQUE7SUFDSixrREFBTSxDQUFBO0lBQ04sOENBQUksQ0FBQTtJQUNKLDRDQUFHLENBQUE7SUFDSCw4Q0FBSSxDQUFBO0lB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USxDQUFDO1FBQ2xCLEtBQUssV0FBVyxDQUFDLElBQUk7WUFDbkIsT0FBTyxJQUFJLENBQUM7UUFDZCxLQUFLLFdBQVcsQ0FBQyxNQUFNO1lBQ3JCLE9BQU8sTUFBTSxDQUFDO1FBQ2hCLEtBQUssV0FBVyxDQUFDLElBQUk7WUFDbkIsT0FBTyxJQUFJLENBQUM7UUFDZCxLQUFLLFdBQVcsQ0FBQyxHQUFHO1lBQ2xCLE9BQU8sR0FBRyxDQUFDO1FBQ2IsS0FBSyxXQUFXLENBQUMsSUFBSTtZQUNuQixPQUFPLElBQUksQ0FBQztRQUNkLEtBQUssV0FBVyxDQUFDLE1BQU07WUFDckIsT0FBTyxNQUFNLENBQUM7UUFFaEI7WUFDRSxNQUFNLElBQUksS0FBSyxDQUFDLGNBQWMsSUFBSSxzQkFBc0IsQ0FBQyxDQUFDO0tBQzdEO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKi9cblxuaW1wb3J0IHtiYWNrZW5kX3V0aWx9IGZyb20gJ0B0ZW5zb3JmbG93L3RmanMtY29yZSc7XG5cbmV4cG9ydCBlbnVtIFVuYXJ5T3BUeXBlIHtcbiAgQUJTLFxuICBBQ09TLFxuICBBQ09TSCxcbiAgQVNJTixcbiAgQVNJTkgsXG4gIEFUQU4sXG4gIEFUQU5ILFxuICBDRUlMLFxuICBDT1MsXG4gIENPU0gsXG4gIEVMVSxcbiAgRVJGLFxuICBFWFAsXG4gIEVYUE0xLFxuICBGTE9PUixcbiAgSVNfRklOSVRFLFxuICBJU19JTkYsXG4gIElTX05BTixcbiAgTElORUFSLFxuICBMT0csXG4gIExPRzFQLFxuICBMT0dJQ0FMX05PVCxcbiAgTkVHLFxuICBSRUxVLFxuICBSRUxVNixcbiAgTEVBS1lSRUxVLFxuICBSRUNJUFJPQ0FMLFxuICBST1VORCxcbiAgUlNRUlQsXG4gIFNFTFUsXG4gIFNJR01PSUQsXG4gIFNJR04sXG4gIFNJTixcbiAgU0lOSCxcbiAgU09GVFBMVVMsXG4gIFNRUlQsXG4gIFNRVUFSRSxcbiAgU1RFUCxcbiAgVEFOLFxuICBUQU5ILFxuICBUT19JTlRcbn1cblxuY29uc3QgQUJTID0gYHJldHVybiBhYnMoYSk7YDtcbmNvbnN0IEFDT1MgPSBgXG4gIGlmIChhYnMoYSkgPiAxLikge1xuICAgIHJldHVybiB1bmlmb3Jtcy5OQU47XG4gIH1cbiAgcmV0dXJuIGFjb3MoYSk7XG5gO1xuY29uc3QgQUNPU0ggPSBgXG4gIGlmIChhIDwgMS4pIHtcbiAgICByZXR1cm4gdW5pZm9ybXMuTkFOO1xuICB9XG4gIHJldHVybiBhY29zaChhKTtcbmA7XG5jb25zdCBBU0lOID0gYFxuICBpZiAoYWJzKGEpID4gMS4pIHtcbiAgICByZXR1cm4gdW5pZm9ybXMuTkFOO1xuICB9XG4gIHJldHVybiBhc2luKGEpO1xuYDtcbmNvbnN0IEFTSU5IID0gYHJldHVybiBhc2luaChhKTtgO1xuY29uc3QgQVRBTiA9IGBcbiAgaWYgKGlzbmFuKGEpKSB7XG4gICAgcmV0dXJuIHVuaWZvcm1zLk5BTjtcbiAgfVxuICByZXR1cm4gYXRhbihhKTtcbmA7XG5jb25zdCBBVEFOSCA9IGBcbiAgaWYgKGFicyhhKSA+IDEuKSB7XG4gICAgcmV0dXJuIHVuaWZvcm1zLk5BTjtcbiAgfVxuICBpZiAoYSA9PSAxLikge1xuICAgIHJldHVybiB1bmlmb3Jtcy5JTkZJTklUWTtcbiAgfVxuICBpZiAoYSA9PSAtMS4pIHtcbiAgICByZXR1cm4gLXVuaWZvcm1zLklORklOSVRZO1xuICB9XG4gIHJldHVybiBhdGFuaChhKTtcbmA7XG5jb25zdCBDRUlMID0gYHJldHVybiBjZWlsKGEpO2A7XG5jb25zdCBDT1MgPSBgcmV0dXJuIGNvcyhhKTtgO1xuY29uc3QgQ09TSCA9IGBcbiAgbGV0IGUyeCA9IGV4cCgtYSk7XG4gIHJldHVybiAoZTJ4ICsgMS4wIC8gZTJ4KSAvIDIuMDtcbmA7XG5jb25zdCBFWFBNMSA9IGByZXR1cm4gZXhwKGEpIC0gMS4wO2A7XG5jb25zdCBFTFUgPSBgaWYgKGEgPj0gMC4wKSB7IHJldHVybiBhOyB9ICByZXR1cm4gKGV4cChhKSAtIDEuMCk7YDtcbmNvbnN0IEVMVV9WRUM0ID0gYFxuICB2YXIgcmVzRmxvYXQgPSBleHAoYSkgLSB2ZWM0PGYzMj4oMS4wKTtcbiAgaWYgKGEuciA+PSAwLjApIHtcbiAgICByZXNGbG9hdC5yID0gYS5yO1xuICB9XG4gIGlmIChhLmcgPj0gMC4wKSB7XG4gICAgcmVzRmxvYXQuZyA9IGEuZztcbiAgfVxuICBpZiAoYS5iID49IDAuMCkge1xuICAgIHJlc0Zsb2F0LmIgPSBhLmI7XG4gIH1cbiAgaWYgKGEuYSA+PSAwLjApIHtcbiAgICByZXNGbG9hdC5hID0gYS5hO1xuICB9XG4gIHJldHVybiByZXNGbG9hdDtcbmA7XG5jb25zdCBFUkYgPSBgXG4gIC8vIEVycm9yIGZ1bmN0aW9uIGlzIGNhbGN1bGF0ZWQgYXBwcm94aW1hdGVseSB3aXRoIGVsZW1lbnRhcnkgZnVuY3Rpb24uXG4gIC8vIFNlZSBcIkhhbmRib29rIG9mIE1hdGhlbWF0aWNhbCBGdW5jdGlvbnMgd2l0aCBGb3JtdWxhcyxcbiAgLy8gR3JhcGhzLCBhbmQgTWF0aGVtYXRpY2FsIFRhYmxlc1wiLCBBYnJhbW93aXR6IGFuZCBTdGVndW4uXG4gIGxldCBwID0gJHtiYWNrZW5kX3V0aWwuRVJGX1B9O1xuICBsZXQgYTEgPSAke2JhY2tlbmRfdXRpbC5FUkZfQTF9O1xuICBsZXQgYTIgPSAke2JhY2tlbmRfdXRpbC5FUkZfQTJ9O1xuICBsZXQgYTMgPSAke2JhY2tlbmRfdXRpbC5FUkZfQTN9O1xuICBsZXQgYTQgPSAke2JhY2tlbmRfdXRpbC5FUkZfQTR9O1xuICBsZXQgYTUgPSAke2JhY2tlbmRfdXRpbC5FUkZfQTV9O1xuXG4gIGxldCBzaWduID0gc2lnbihhKTtcbiAgbGV0IGFic0EgPSBhYnMoYSk7XG4gIGxldCB0ID0gMS4wIC8gKDEuMCArIHAgKiBhYnNBKTtcbiAgcmV0dXJuIHNpZ24gKiAoMS4wIC0gKCgoKChhNSAqIHQgKyBhNCkgKiB0KSArIGEzKSAqIHQgKyBhMikgKiB0ICsgYTEpICogdCAqIGV4cCgtYWJzQSAqIGFic0EpKTtcbmA7XG5jb25zdCBFWFAgPSBgcmV0dXJuIGV4cChhKTtgO1xuY29uc3QgRkxPT1IgPSBgcmV0dXJuIGZsb29yKGEpO2A7XG5jb25zdCBJU19GSU5JVEUgPSBgcmV0dXJuIGYzMighaXNuYW4oYSkgJiYgIWlzaW5mKGEpKTtgO1xuY29uc3QgSVNfSU5GID0gYHJldHVybiBmMzIoaXNpbmYoYSkpO2A7XG5jb25zdCBJU19OQU4gPSBgcmV0dXJuIGYzMihpc25hbihhKSk7YDtcbmNvbnN0IExJTkVBUiA9IGByZXR1cm4gYTtgO1xuY29uc3QgTE9HID0gYGlmIChhIDwgMC4wKSB7IHJldHVybiB1bmlmb3Jtcy5OQU47IH1cbiAgcmV0dXJuIGxvZyhhKTtgO1xuY29uc3QgTE9HMVAgPSBgXG4gIGlmIChpc25hbihhKSkgeyByZXR1cm4gYTsgfVxuICByZXR1cm4gbG9nKDEuMCArIGEpO1xuYDtcbmNvbnN0IExPR0lDQUxfTk9UID0gYHJldHVybiBmMzIoIShhID49IDEuMCkpO2A7XG5jb25zdCBORUcgPSBgcmV0dXJuIC1hO2A7XG5jb25zdCBMRUFLWVJFTFUgPSBgaWYgKGEgPCAwLjApIHsgcmV0dXJuIHVuaWZvcm1zLmFscGhhICogYTsgfSByZXR1cm4gYTtgO1xuY29uc3QgTEVBS1lSRUxVX1ZFQzQgPSBgXG4gIGxldCBhTGVzc1RoYW5aZXJvID0gdmVjNDxmMzI+KGEgPCB2ZWM0PGYzMj4oMC4wKSk7XG4gIHJldHVybiAoYUxlc3NUaGFuWmVybyAqICh1bmlmb3Jtcy5hbHBoYSAqIGEpKSArICgodmVjNDxmMzI+KDEuMCkgLSBhTGVzc1RoYW5aZXJvKSAqIGEpO1xuYDtcbmNvbnN0IFJFQ0lQUk9DQUwgPSBgcmV0dXJuIDEuMCAvIGE7YDtcbmNvbnN0IFJFTFUgPSBgcmV0dXJuIHNlbGVjdChhLCAwLjAsIGEgPCAwLjApO2A7XG5jb25zdCBSRUxVNiA9ICdyZXR1cm4gY2xhbXAoYSwgMC4wLCA2LjApOyc7XG5jb25zdCBSRUxVNl9WRUM0ID1cbiAgICAncmV0dXJuIGNsYW1wKGEsIHZlYzQ8ZjMyPigwLjAsIDAuMCwgMC4wLCAwLjApLCB2ZWM0PGYzMj4oNi4wLCA2LjAsIDYuMCwgNi4wKSk7JztcbmNvbnN0IFJFTFVfVkVDNCA9IGBcbiAgcmV0dXJuIHNlbGVjdChhLCB2ZWM0PGYzMj4oMC4wKSwgYSA8IHZlYzQ8ZjMyPigwLjApKTtcbmA7XG5jb25zdCBST1VORCA9IGByZXR1cm4gcm91bmQoYSk7YDtcbmNvbnN0IFJTUVJUID0gYHJldHVybiBpbnZlcnNlU3FydChhKTtgO1xuLy8gU3RhYmxlIGFuZCBBdHRyYWN0aW5nIEZpeGVkIFBvaW50ICgwLCAxKSBmb3IgTm9ybWFsaXplZCBXZWlnaHRzLlxuLy8gU2VlOiBodHRwczovL2FyeGl2Lm9yZy9hYnMvMTcwNi4wMjUxNVxuY29uc3QgU0VMVSA9IGBcbiAgaWYgKGEgPj0gMC4wKSB7XG4gICAgcmV0dXJuICR7YmFja2VuZF91dGlsLlNFTFVfU0NBTEV9ICogYTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJHtiYWNrZW5kX3V0aWwuU0VMVV9TQ0FMRUFMUEhBfSAqIChleHAoYSkgLSAxLjApO1xuICB9XG5gO1xuY29uc3QgU0lHTU9JRCA9IGByZXR1cm4gMS4wIC8gKDEuMCArIGV4cCgtMS4wICogYSkpO2A7XG5jb25zdCBTSUdOID0gYHJldHVybiBzaWduKGEpO2A7XG5jb25zdCBTSU4gPSBgcmV0dXJuIHNpbihhKTtgO1xuY29uc3QgU0lOSCA9IGBcbiAgbGV0IGUyeCA9IGV4cChhKTtcbiAgcmV0dXJuIChlMnggLSAxLjAgLyBlMngpIC8gMi4wO1xuYDtcbmNvbnN0IFNPRlRQTFVTID0gYFxuICBsZXQgZXBzaWxvbiA9IDEuMTkyMDkyODk1NTA3ODEyNWUtNztcbiAgbGV0IHRocmVzaG9sZCA9IGxvZyhlcHNpbG9uKSArIDIuMDtcblxuICBsZXQgdG9vX2xhcmdlID0gYSA+IC10aHJlc2hvbGQ7XG4gIGxldCB0b29fc21hbGwgPSBhIDwgdGhyZXNob2xkO1xuICBsZXQgZXhwX2EgPSBleHAoYSk7XG5cbiAgaWYgKHRvb19sYXJnZSkge1xuICAgIHJldHVybiBhO1xuICB9IGVsc2UgaWYgKHRvb19zbWFsbCkge1xuICAgIHJldHVybiBleHBfYTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbG9nKGV4cF9hICsgMS4wKTtcbiAgfVxuYDtcbmNvbnN0IFNRUlQgPSBgcmV0dXJuIHNxcnQoYSk7YDtcbmNvbnN0IFNRVUFSRSA9IGByZXR1cm4gYSAqIGE7YDtcbmNvbnN0IFNURVAgPSBgXG4gIGlmIChpc25hbihhKSkge1xuICAgIHJldHVybiBhO1xuICB9XG5cbiAgcmV0dXJuIHNlbGVjdCh1bmlmb3Jtcy5zdGVwQWxwaGEsIDEuMCwgYSA+IDAuMCk7XG5gO1xuY29uc3QgVEFOID0gYHJldHVybiB0YW4oYSk7YDtcbmNvbnN0IFRBTkggPSBgXG4gIGxldCBlMnggPSBleHAoLTIuMCAqIGFicyhhKSk7XG4gIHJldHVybiBzaWduKGEpICogKDEuMCAtIGUyeCkgLyAoMS4wICsgZTJ4KTtcbmA7XG5jb25zdCBUT19JTlQgPSBgcmV0dXJuIGYzMihpMzIoKGEpKSk7YDtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVuYXJ5T3BTdHJpbmcodHlwZTogVW5hcnlPcFR5cGUsIHVzZVZlYzQ/OiBib29sZWFuKTogc3RyaW5nIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5BQlM6XG4gICAgICByZXR1cm4gQUJTO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuQUNPUzpcbiAgICAgIHJldHVybiBBQ09TO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuQUNPU0g6XG4gICAgICByZXR1cm4gQUNPU0g7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5BU0lOOlxuICAgICAgcmV0dXJuIEFTSU47XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5BU0lOSDpcbiAgICAgIHJldHVybiBBU0lOSDtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLkFUQU46XG4gICAgICByZXR1cm4gQVRBTjtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLkFUQU5IOlxuICAgICAgcmV0dXJuIEFUQU5IO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuQ09TOlxuICAgICAgcmV0dXJuIENPUztcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLkNPU0g6XG4gICAgICByZXR1cm4gQ09TSDtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLkNFSUw6XG4gICAgICByZXR1cm4gQ0VJTDtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLkVMVTpcbiAgICAgIHJldHVybiB1c2VWZWM0ID8gRUxVX1ZFQzQgOiBFTFU7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5FUkY6XG4gICAgICByZXR1cm4gRVJGO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuRVhQOlxuICAgICAgcmV0dXJuIEVYUDtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLkVYUE0xOlxuICAgICAgcmV0dXJuIEVYUE0xO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuRkxPT1I6XG4gICAgICByZXR1cm4gRkxPT1I7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5JU19GSU5JVEU6XG4gICAgICByZXR1cm4gSVNfRklOSVRFO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuSVNfSU5GOlxuICAgICAgcmV0dXJuIElTX0lORjtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLklTX05BTjpcbiAgICAgIHJldHVybiBJU19OQU47XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5MSU5FQVI6XG4gICAgICByZXR1cm4gTElORUFSO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuTE9HOlxuICAgICAgcmV0dXJuIExPRztcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLkxPRzFQOlxuICAgICAgcmV0dXJuIExPRzFQO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuTE9HSUNBTF9OT1Q6XG4gICAgICByZXR1cm4gTE9HSUNBTF9OT1Q7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5ORUc6XG4gICAgICByZXR1cm4gTkVHO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuTEVBS1lSRUxVOlxuICAgICAgcmV0dXJuIHVzZVZlYzQgPyBMRUFLWVJFTFVfVkVDNCA6IExFQUtZUkVMVTtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLlJFQ0lQUk9DQUw6XG4gICAgICByZXR1cm4gUkVDSVBST0NBTDtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLlJFTFU6XG4gICAgICByZXR1cm4gdXNlVmVjNCA/IFJFTFVfVkVDNCA6IFJFTFU7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5SRUxVNjpcbiAgICAgIHJldHVybiB1c2VWZWM0ID8gUkVMVTZfVkVDNCA6IFJFTFU2O1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuUk9VTkQ6XG4gICAgICByZXR1cm4gUk9VTkQ7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5SU1FSVDpcbiAgICAgIHJldHVybiBSU1FSVDtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLlNFTFU6XG4gICAgICByZXR1cm4gU0VMVTtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLlNJR01PSUQ6XG4gICAgICByZXR1cm4gU0lHTU9JRDtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLlNJR046XG4gICAgICByZXR1cm4gU0lHTjtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLlNJTjpcbiAgICAgIHJldHVybiBTSU47XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5TSU5IOlxuICAgICAgcmV0dXJuIFNJTkg7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5TT0ZUUExVUzpcbiAgICAgIHJldHVybiBTT0ZUUExVUztcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLlNRUlQ6XG4gICAgICByZXR1cm4gU1FSVDtcbiAgICBjYXNlIFVuYXJ5T3BUeXBlLlNRVUFSRTpcbiAgICAgIHJldHVybiBTUVVBUkU7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5TVEVQOlxuICAgICAgcmV0dXJuIFNURVA7XG4gICAgY2FzZSBVbmFyeU9wVHlwZS5UQU46XG4gICAgICByZXR1cm4gVEFOO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuVEFOSDpcbiAgICAgIHJldHVybiBUQU5IO1xuICAgIGNhc2UgVW5hcnlPcFR5cGUuVE9fSU5UOlxuICAgICAgcmV0dXJuIFRPX0lOVDtcblxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEJpbmFyeVR5cGUgJHt0eXBlfSBpcyBub3QgaW1wbGVtZW50ZWQhYCk7XG4gIH1cbn1cbiJdfQ==